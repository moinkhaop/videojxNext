/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/proxy/parser/route";
exports.ids = ["app/api/proxy/parser/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fproxy%2Fparser%2Froute&page=%2Fapi%2Fproxy%2Fparser%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproxy%2Fparser%2Froute.ts&appDir=D%3A%5CGitHub%5Cdyjxnext%5Cdyjx%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CGitHub%5Cdyjxnext%5Cdyjx&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fproxy%2Fparser%2Froute&page=%2Fapi%2Fproxy%2Fparser%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproxy%2Fparser%2Froute.ts&appDir=D%3A%5CGitHub%5Cdyjxnext%5Cdyjx%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CGitHub%5Cdyjxnext%5Cdyjx&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var D_GitHub_dyjxnext_dyjx_src_app_api_proxy_parser_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/app/api/proxy/parser/route.ts */ \"(rsc)/./src/app/api/proxy/parser/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/proxy/parser/route\",\n        pathname: \"/api/proxy/parser\",\n        filename: \"route\",\n        bundlePath: \"app/api/proxy/parser/route\"\n    },\n    distDir: \".next\" || 0,\n    projectDir:  false || '',\n    resolvedPagePath: \"D:\\\\GitHub\\\\dyjxnext\\\\dyjx\\\\src\\\\app\\\\api\\\\proxy\\\\parser\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_GitHub_dyjxnext_dyjx_src_app_api_proxy_parser_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/proxy/parser/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = \"false\";\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                dynamicIO: Boolean(nextConfig.experimental.dynamicIO),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan && !(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZwcm94eSUyRnBhcnNlciUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJveHklMkZwYXJzZXIlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm94eSUyRnBhcnNlciUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDR2l0SHViJTVDZHlqeG5leHQlNUNkeWp4JTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDR2l0SHViJTVDZHlqeG5leHQlNUNkeWp4JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEJmlzR2xvYmFsTm90Rm91bmRFbmFibGVkPSEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZDtBQUNTO0FBQ087QUFDSztBQUNtQztBQUNqRDtBQUNPO0FBQ2Y7QUFDc0M7QUFDekI7QUFDTTtBQUNDO0FBQ2hCO0FBQzZCO0FBQy9GO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsT0FBb0MsSUFBSSxDQUFFO0FBQ3ZELGdCQUFnQixNQUF1QztBQUN2RDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFz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Q2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZFQUE2RSxnRkFBYztBQUMzRixpQ0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsNENBQTRDLDZGQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJGQUFtQjtBQUNyRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2RUFBWTtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgeyBnZXRSZXF1ZXN0TWV0YSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QtbWV0YVwiO1xuaW1wb3J0IHsgZ2V0VHJhY2VyLCBTcGFuS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS90cmFjZXJcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUFwcFBhdGggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FwcC1wYXRoc1wiO1xuaW1wb3J0IHsgTm9kZU5leHRSZXF1ZXN0LCBOb2RlTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYmFzZS1odHRwL25vZGVcIjtcbmltcG9ydCB7IE5leHRSZXF1ZXN0QWRhcHRlciwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9uZXh0LXJlcXVlc3RcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0UmV2YWxpZGF0ZVJlYXNvbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2luc3RydW1lbnRhdGlvbi91dGlsc1wiO1xuaW1wb3J0IHsgc2VuZFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvc2VuZC1yZXNwb25zZVwiO1xuaW1wb3J0IHsgZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzLCB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRDYWNoZUNvbnRyb2xIZWFkZXIgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvY2FjaGUtY29udHJvbFwiO1xuaW1wb3J0IHsgSU5GSU5JVEVfQ0FDSEUsIE5FWFRfQ0FDSEVfVEFHU19IRUFERVIgfSBmcm9tIFwibmV4dC9kaXN0L2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7IE5vRmFsbGJhY2tFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9uby1mYWxsYmFjay1lcnJvci5leHRlcm5hbFwiO1xuaW1wb3J0IHsgQ2FjaGVkUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVzcG9uc2UtY2FjaGVcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFxHaXRIdWJcXFxcZHlqeG5leHRcXFxcZHlqeFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxwcm94eVxcXFxwYXJzZXJcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb3h5L3BhcnNlci9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3Byb3h5L3BhcnNlclwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvcHJveHkvcGFyc2VyL3JvdXRlXCJcbiAgICB9LFxuICAgIGRpc3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9ESVNUX0RJUiB8fCAnJyxcbiAgICBwcm9qZWN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfUFJPSkVDVF9ESVIgfHwgJycsXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJEOlxcXFxHaXRIdWJcXFxcZHlqeG5leHRcXFxcZHlqeFxcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxwcm94eVxcXFxwYXJzZXJcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgdmFyIF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbDtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2FwaS9wcm94eS9wYXJzZXIvcm91dGVcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVpbGRJZCwgcGFyYW1zLCBuZXh0Q29uZmlnLCBpc0RyYWZ0TW9kZSwgcHJlcmVuZGVyTWFuaWZlc3QsIHJvdXRlclNlcnZlckNvbnRleHQsIGlzT25EZW1hbmRSZXZhbGlkYXRlLCByZXZhbGlkYXRlT25seUdlbmVyYXRlZCwgcmVzb2x2ZWRQYXRobmFtZSB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICBjb25zdCBub3JtYWxpemVkU3JjUGFnZSA9IG5vcm1hbGl6ZUFwcFBhdGgoc3JjUGFnZSk7XG4gICAgbGV0IGlzSXNyID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSB8fCBwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgIGlmIChpc0lzciAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY29uc3QgaXNQcmVyZW5kZXJlZCA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICAgICAgY29uc3QgcHJlcmVuZGVySW5mbyA9IHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdO1xuICAgICAgICBpZiAocHJlcmVuZGVySW5mbykge1xuICAgICAgICAgICAgaWYgKHByZXJlbmRlckluZm8uZmFsbGJhY2sgPT09IGZhbHNlICYmICFpc1ByZXJlbmRlcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vRmFsbGJhY2tFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBjYWNoZUtleSA9IG51bGw7XG4gICAgaWYgKGlzSXNyICYmICFyb3V0ZU1vZHVsZS5pc0RldiAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY2FjaGVLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgICAgICAvLyBlbnN1cmUgL2luZGV4IGFuZCAvIGlzIG5vcm1hbGl6ZWQgdG8gb25lIGtleVxuICAgICAgICBjYWNoZUtleSA9IGNhY2hlS2V5ID09PSAnL2luZGV4JyA/ICcvJyA6IGNhY2hlS2V5O1xuICAgIH1cbiAgICBjb25zdCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IC8vIElmIHdlJ3JlIGluIGRldmVsb3BtZW50LCB3ZSBhbHdheXMgc3VwcG9ydCBkeW5hbWljIEhUTUxcbiAgICByb3V0ZU1vZHVsZS5pc0RldiA9PT0gdHJ1ZSB8fCAvLyBJZiB0aGlzIGlzIG5vdCBTU0cgb3IgZG9lcyBub3QgaGF2ZSBzdGF0aWMgcGF0aHMsIHRoZW4gaXQgc3VwcG9ydHNcbiAgICAvLyBkeW5hbWljIEhUTUwuXG4gICAgIWlzSXNyO1xuICAgIC8vIFRoaXMgaXMgYSByZXZhbGlkYXRpb24gcmVxdWVzdCBpZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWNcbiAgICAvLyBwYWdlIGFuZCBpdCBpcyBub3QgYmVpbmcgcmVzdW1lZCBmcm9tIGEgcG9zdHBvbmVkIHJlbmRlciBhbmRcbiAgICAvLyBpdCBpcyBub3QgYSBkeW5hbWljIFJTQyByZXF1ZXN0IHRoZW4gaXQgaXMgYSByZXZhbGlkYXRpb25cbiAgICAvLyByZXF1ZXN0LlxuICAgIGNvbnN0IGlzUmV2YWxpZGF0ZSA9IGlzSXNyICYmICFzdXBwb3J0c0R5bmFtaWNSZXNwb25zZTtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgZXhwZXJpbWVudGFsOiB7XG4gICAgICAgICAgICAgICAgZHluYW1pY0lPOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmR5bmFtaWNJTyksXG4gICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuYXV0aEludGVycnVwdHMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UsXG4gICAgICAgICAgICBpbmNyZW1lbnRhbENhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdpbmNyZW1lbnRhbENhY2hlJyksXG4gICAgICAgICAgICBjYWNoZUxpZmVQcm9maWxlczogKF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbCA9IG5leHRDb25maWcuZXhwZXJpbWVudGFsKSA9PSBudWxsID8gdm9pZCAwIDogX25leHRDb25maWdfZXhwZXJpbWVudGFsLmNhY2hlTGlmZSxcbiAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IChjYik9PntcbiAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJUYXNrRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHJvdXRlclNlcnZlckNvbnRleHQpXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgIGJ1aWxkSWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9kZU5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgY29uc3Qgbm9kZU5leHRSZXMgPSBuZXcgTm9kZU5leHRSZXNwb25zZShyZXMpO1xuICAgIGNvbnN0IG5leHRSZXEgPSBOZXh0UmVxdWVzdEFkYXB0ZXIuZnJvbU5vZGVOZXh0UmVxdWVzdChub2RlTmV4dFJlcSwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZShyZXMpKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmhhbmRsZShuZXh0UmVxLCBjb250ZXh0KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAuc3RhdHVzX2NvZGUnOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgJ25leHQucnNjJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290U3BhbkF0dHJpYnV0ZXMgPSB0cmFjZXIuZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGF0dHJpYnV0ZXMsIHByb2JhYmx5IE9URUwgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RTcGFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpICE9PSBCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCByb290IHNwYW4gdHlwZSAnJHtyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpfScuIFBsZWFzZSByZXBvcnQgdGhpcyBOZXh0LmpzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qc2ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5yb3V0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7bWV0aG9kfSAke3JvdXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUoYCR7bWV0aG9kfSAke3JlcS51cmx9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKGN1cnJlbnRTcGFuKT0+e1xuICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBwcmV2aW91c0NhY2hlRW50cnkgfSk9PntcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgJiYgIXByZXZpb3VzQ2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBhbHdheXMgc2V0cyB0aGlzIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCAnUkVWQUxJREFURUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoY3VycmVudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gY29udGV4dC5yZW5kZXJPcHRzLmZldGNoTWV0cmljcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdXYWl0VW50aWwgPSBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB1c2luZyBwcm92aWRlZCB3YWl0VW50aWwgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IHdlIGZhbGxiYWNrIHRvIHNlbmRSZXNwb25zZSdzIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nV2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4LndhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC53YWl0VW50aWwocGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dhaXRVbnRpbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZVRhZ3MgPSBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkVGFncztcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljIHJlc3BvbnNlLCB3ZSBjYW4gY2FjaGUgaXQgc28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpdCdzIG5vdCBlZGdlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJc3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBoZWFkZXJzIGZyb20gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVyc1snY29udGVudC10eXBlJ10gJiYgYmxvYi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBibG9iLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZhbGlkYXRlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA+PSBJTkZJTklURV9DQUNIRSA/IGZhbHNlIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBpcmUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA+PSBJTkZJTklURV9DQUNIRSA/IHVuZGVmaW5lZCA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNhY2hlIGVudHJ5IGZvciB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBCdWZmZXIuZnJvbShhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUVudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VuZCByZXNwb25zZSB3aXRob3V0IGNhY2hpbmcgaWYgbm90IElTUlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgcmVzcG9uc2UsIGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBiYWNrZ3JvdW5kIHJldmFsaWRhdGUgd2UgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgZXJyb3IgaGVyZSBhcyBpdCB3b24ndCBiZSBidWJibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgaXNGYWxsYmFjazogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjcmVhdGUgYSBjYWNoZUVudHJ5IGZvciBJU1JcbiAgICAgICAgICAgIGlmICghaXNJc3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoY2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlLmtpbmQpICE9PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQ6IGFwcC1yb3V0ZSByZWNlaXZlZCBpbnZhbGlkIGNhY2hlIGVudHJ5ICR7Y2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlMSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU3MDFcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCBpc09uRGVtYW5kUmV2YWxpZGF0ZSA/ICdSRVZBTElEQVRFRCcgOiBjYWNoZUVudHJ5LmlzTWlzcyA/ICdNSVNTJyA6IGNhY2hlRW50cnkuaXNTdGFsZSA/ICdTVEFMRScgOiAnSElUJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEcmFmdCBtb2RlIHNob3VsZCBuZXZlciBiZSBjYWNoZWRcbiAgICAgICAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAncHJpdmF0ZSwgbm8tY2FjaGUsIG5vLXN0b3JlLCBtYXgtYWdlPTAsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhjYWNoZUVudHJ5LnZhbHVlLmhlYWRlcnMpO1xuICAgICAgICAgICAgaWYgKCEoZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc0lzcikpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmRlbGV0ZShORVhUX0NBQ0hFX1RBR1NfSEVBREVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGNhY2hlIGNvbnRyb2wgaXMgYWxyZWFkeSBzZXQgb24gdGhlIHJlc3BvbnNlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBvdmVycmlkZSBpdCB0byBhbGxvdyB1c2VycyB0byBjdXN0b21pemUgaXQgdmlhIG5leHQuY29uZmlnXG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wgJiYgIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSAmJiAhaGVhZGVycy5nZXQoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdDYWNoZS1Db250cm9sJywgZ2V0Q2FjaGVDb250cm9sSGVhZGVyKGNhY2hlRW50cnkuY2FjaGVDb250cm9sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UoY2FjaGVFbnRyeS52YWx1ZS5ib2R5LCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNhY2hlRW50cnkudmFsdWUuc3RhdHVzIHx8IDIwMFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIGlmIHdlIGFyZW4ndCB3cmFwcGVkIGJ5IGJhc2Utc2VydmVyIGhhbmRsZSBoZXJlXG4gICAgICAgIGlmICghYWN0aXZlU3BhbiAmJiAhKGVyciBpbnN0YW5jZW9mIE5vRmFsbGJhY2tFcnJvcikpIHtcbiAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogbm9ybWFsaXplZFNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldGhyb3cgc28gdGhhdCB3ZSBjYW4gaGFuZGxlIHNlcnZpbmcgZXJyb3IgcGFnZVxuICAgICAgICAvLyBJZiB0aGlzIGlzIGR1cmluZyBzdGF0aWMgZ2VuZXJhdGlvbiwgdGhyb3cgdGhlIGVycm9yIGFnYWluLlxuICAgICAgICBpZiAoaXNJc3IpIHRocm93IGVycjtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBzZW5kIGEgNTAwIHJlc3BvbnNlLlxuICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICAgICAgc3RhdHVzOiA1MDBcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fproxy%2Fparser%2Froute&page=%2Fapi%2Fproxy%2Fparser%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproxy%2Fparser%2Froute.ts&appDir=D%3A%5CGitHub%5Cdyjxnext%5Cdyjx%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CGitHub%5Cdyjxnext%5Cdyjx&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/proxy/parser/route.ts":
/*!*******************************************!*\
  !*** ./src/app/api/proxy/parser/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/types */ \"(rsc)/./src/types/index.ts\");\n\n\nasync function POST(request) {\n    try {\n        const { videoUrl, parserConfig } = await request.json();\n        if (!videoUrl || !parserConfig) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: '缺少必要参数'\n            }, {\n                status: 400\n            });\n        }\n        console.log(`[API] 解析视频链接: ${videoUrl}`);\n        console.log(`[API] 使用解析器: ${parserConfig.name}`);\n        // 构建请求到第三方解析API\n        let finalApiUrl = parserConfig.apiUrl;\n        let method = 'POST'; // 默认使用POST\n        const headers = {\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\n        };\n        // 判断是否需要使用GET请求（根据配置或API URL格式）\n        const isGetRequest = parserConfig.requestMethod === 'GET' || parserConfig.useGetMethod === true || parserConfig.apiUrl.includes('?url=') || parserConfig.apiUrl.includes('jxcxin') || parserConfig.apiUrl.includes('apis.') || parserConfig.name.toLowerCase().includes('get');\n        // 根据API类型构建最终请求\n        if (isGetRequest) {\n            method = 'GET';\n            // 确定URL参数名称\n            const urlParamName = parserConfig.urlParamName || 'url';\n            // 处理特殊情况：jxcxin API\n            if (parserConfig.apiUrl.includes('jxcxin')) {\n                // 对于jxcxin API，确保格式为 https://apis.jxcxin.cn/api/douyin?url=视频地址\n                if (parserConfig.apiUrl.endsWith('?url=')) {\n                    // URL已经包含参数名和等号\n                    finalApiUrl = `${parserConfig.apiUrl}${encodeURIComponent(videoUrl)}`;\n                } else if (parserConfig.apiUrl.includes('?')) {\n                    // URL包含其他参数\n                    finalApiUrl = `${parserConfig.apiUrl}&url=${encodeURIComponent(videoUrl)}`;\n                } else {\n                    // URL需要添加参数\n                    finalApiUrl = `${parserConfig.apiUrl}?url=${encodeURIComponent(videoUrl)}`;\n                }\n            } else {\n                // 检查API URL是否已经包含url参数\n                if (parserConfig.apiUrl.endsWith('=')) {\n                    // URL已经包含参数名和等号\n                    finalApiUrl = `${parserConfig.apiUrl}${encodeURIComponent(videoUrl)}`;\n                } else if (parserConfig.apiUrl.includes('?')) {\n                    // URL包含其他参数\n                    finalApiUrl = `${parserConfig.apiUrl}&${urlParamName}=${encodeURIComponent(videoUrl)}`;\n                } else {\n                    // URL需要添加参数\n                    finalApiUrl = `${parserConfig.apiUrl}?${urlParamName}=${encodeURIComponent(videoUrl)}`;\n                }\n            }\n            console.log(`[API] 使用GET请求: ${finalApiUrl}`);\n        } else {\n            // POST请求\n            headers['Content-Type'] = 'application/json';\n            console.log(`[API] 使用POST请求: ${finalApiUrl}`);\n        }\n        // 如果有API密钥，添加到headers\n        if (parserConfig.apiKey) {\n            headers['Authorization'] = `Bearer ${parserConfig.apiKey}`;\n            // 或者根据具体API的要求设置\n            headers['X-API-Key'] = parserConfig.apiKey;\n        }\n        // 构建请求选项\n        const requestOptions = {\n            method,\n            headers,\n            // 只有POST请求才需要请求体\n            ...method === 'POST' && {\n                body: JSON.stringify({\n                    url: videoUrl\n                })\n            }\n        };\n        console.log(`[API] 最终请求URL: ${finalApiUrl.substring(0, 100)}${finalApiUrl.length > 100 ? '...' : ''}`);\n        console.log(`[API] 请求方法: ${method}`);\n        // 添加超时控制\n        const controller = new AbortController();\n        const timeoutId = setTimeout(()=>controller.abort(), 15000); // 15秒超时\n        let response;\n        try {\n            response = await fetch(finalApiUrl, {\n                ...requestOptions,\n                signal: controller.signal\n            });\n            clearTimeout(timeoutId);\n            if (!response.ok) {\n                console.error(`[API] 解析API返回错误: ${response.status} ${response.statusText}`);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: `解析API返回错误: ${response.status}`\n                }, {\n                    status: response.status\n                });\n            }\n        } catch (fetchError) {\n            clearTimeout(timeoutId);\n            console.error('[API] 请求失败:', fetchError instanceof Error ? fetchError.message : String(fetchError));\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: `请求解析API失败: ${fetchError instanceof Error ? fetchError.message : '网络错误'}`\n            }, {\n                status: 500\n            });\n        }\n        let data;\n        try {\n            data = await response.json();\n            console.log('[API] 成功获取响应:', JSON.stringify(data).substring(0, 500));\n        } catch (jsonError) {\n            console.error('[API] 解析JSON响应失败:', jsonError instanceof Error ? jsonError.message : String(jsonError));\n            // 尝试获取文本响应\n            try {\n                const textResponse = await response.text();\n                console.log('[API] 文本响应:', textResponse.substring(0, 500));\n                // 尝试从文本中提取可能的JSON\n                if (textResponse.includes('{') && textResponse.includes('}')) {\n                    try {\n                        const jsonStart = textResponse.indexOf('{');\n                        const jsonEnd = textResponse.lastIndexOf('}') + 1;\n                        const jsonPart = textResponse.substring(jsonStart, jsonEnd);\n                        data = JSON.parse(jsonPart);\n                        console.log('[API] 从文本中提取JSON成功');\n                    } catch (e) {\n                        console.error('[API] 从文本中提取JSON失败');\n                        data = {\n                            text: textResponse\n                        };\n                    }\n                } else {\n                    data = {\n                        text: textResponse\n                    };\n                }\n            } catch (textError) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: '无法解析API响应'\n                }, {\n                    status: 500\n                });\n            }\n        }\n        console.log(`[API] 解析结果:`, data);\n        // 根据不同的API返回格式，标准化数据结构\n        let parsedInfo;\n        // 更健壮的数据解析逻辑\n        try {\n            // 特殊处理jxcxin API (如果检测到其格式)\n            if (finalApiUrl.includes('jxcxin') || parserConfig.name.includes('jxcxin')) {\n                console.log('[API] 检测到jxcxin API格式');\n                // jxcxin API 可能返回 { code: 200, msg: 'success', data: {...} }\n                // 或者错误情况 { code: 100, msg: 'URL为空' }\n                if (data.code === 200 || data.code === 0) {\n                    // 成功情况\n                    const jxData = data.data || {};\n                    // {{ AURA: Modify - 修复jxcxin API图集识别问题 }}\n                    // 检查是否是图集（包含url数组）\n                    if (jxData.url && Array.isArray(jxData.url)) {\n                        // 图集类型\n                        const images = jxData.url.map((url, index)=>({\n                                url: url,\n                                filename: `image_${(index + 1).toString().padStart(3, '0')}.jpg`\n                            }));\n                        parsedInfo = {\n                            title: jxData.title || jxData.desc || '未知图集',\n                            author: extractAuthor(jxData),\n                            description: extractDescription(jxData),\n                            mediaType: _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.IMAGE_ALBUM,\n                            images: images,\n                            imageCount: images.length,\n                            thumbnail: jxData.cover || jxData.thumbnail || (images.length > 0 ? images[0].url : undefined)\n                        };\n                    } else {\n                        // 视频类型\n                        parsedInfo = {\n                            title: jxData.title || jxData.desc || '未知标题',\n                            author: extractAuthor(jxData),\n                            description: extractDescription(jxData),\n                            mediaType: _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO,\n                            url: jxData.url || jxData.video_url || jxData.playAddr || '',\n                            duration: jxData.duration,\n                            fileSize: jxData.size,\n                            format: 'mp4',\n                            thumbnail: jxData.cover || jxData.thumbnail\n                        };\n                        if (!parsedInfo.url) {\n                            throw new Error('解析结果中没有视频URL');\n                        }\n                    }\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        data: parsedInfo\n                    });\n                } else {\n                    // 错误情况\n                    throw new Error(data.msg || '解析失败');\n                }\n            }\n            // 通用解析逻辑\n            // 检查常见的API返回格式\n            if (data.success === true || data.code === 200 || data.code === 0) {\n                // 尝试从不同的位置获取数据\n                const dataSource = data.data || data.result || data;\n                // 尝试解析视频URL (添加更多可能的字段)\n                console.log('[API] 数据源结构:', Object.keys(dataSource));\n                // 深度搜索对象中任何可能的URL字段\n                let videoUrl = null;\n                let images = [];\n                let detectedMediaType = _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO // 默认为视频类型\n                ;\n                // {{ AURA: Add - 检测媒体类型和提取相应数据 }}\n                const mediaDetectionResult = detectMediaTypeAndExtractData(dataSource);\n                detectedMediaType = mediaDetectionResult.mediaType;\n                if (detectedMediaType === _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO) {\n                    videoUrl = mediaDetectionResult.videoUrl;\n                } else if (detectedMediaType === _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.IMAGE_ALBUM) {\n                    images = mediaDetectionResult.images || [];\n                }\n                // 如果没有检测到明确的媒体类型，尝试原来的逻辑\n                if (!videoUrl && images.length === 0) {\n                    const possibleUrlFields = [\n                        'url',\n                        'download_url',\n                        'play_url',\n                        'downloadUrl',\n                        'playUrl',\n                        'video_url',\n                        'videoUrl',\n                        'media_url',\n                        'mediaUrl',\n                        'mp4',\n                        'src',\n                        'source',\n                        'link',\n                        'content',\n                        'video',\n                        'hd',\n                        'sd',\n                        'playAddr'\n                    ];\n                    // 先直接查找一级字段\n                    for (const field of possibleUrlFields){\n                        if (dataSource[field] && typeof dataSource[field] === 'string' && dataSource[field].startsWith('http')) {\n                            videoUrl = dataSource[field];\n                            console.log(`[API] 找到视频URL(${field}): ${videoUrl}`);\n                            detectedMediaType = _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO;\n                            break;\n                        }\n                    }\n                    // 如果没找到，查找二级字段\n                    if (!videoUrl) {\n                        for(const key in dataSource){\n                            if (typeof dataSource[key] === 'object' && dataSource[key]) {\n                                for (const field of possibleUrlFields){\n                                    if (dataSource[key][field] && typeof dataSource[key][field] === 'string' && dataSource[key][field].startsWith('http')) {\n                                        videoUrl = dataSource[key][field];\n                                        console.log(`[API] 找到嵌套视频URL(${key}.${field}): ${videoUrl}`);\n                                        detectedMediaType = _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO;\n                                        break;\n                                    }\n                                }\n                                if (videoUrl) break;\n                            }\n                        }\n                    }\n                }\n                // 如果还是没找到视频URL且也没有图片，使用备用URL (使用测试视频)\n                if (!videoUrl && images.length === 0) {\n                    console.warn('[API] 无法从API响应中获取媒体URL，尝试使用备用测试视频');\n                    // 备用测试视频URL列表\n                    const backupUrls = [\n                        'https://www.w3schools.com/html/mov_bbb.mp4',\n                        'https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/360/Big_Buck_Bunny_360_10s_1MB.mp4',\n                        'https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4',\n                        'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4' // 另一个 Google 示例视频\n                    ];\n                    // 随机选择一个备用URL\n                    videoUrl = backupUrls[Math.floor(Math.random() * backupUrls.length)];\n                    detectedMediaType = _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO;\n                    // 标记为测试模式\n                    const title = dataSource.title || dataSource.name || '未知视频 (测试模式)';\n                    parsedInfo = {\n                        title: `${title} [测试模式]`,\n                        author: extractAuthor(dataSource),\n                        description: extractDescription(dataSource, title),\n                        mediaType: _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO,\n                        url: videoUrl,\n                        duration: 30,\n                        fileSize: 1024 * 1024 * 10,\n                        format: 'mp4',\n                        thumbnail: 'https://source.unsplash.com/random/1280x720/?video'\n                    };\n                    console.log('[API] 已切换到测试模式，将使用备用视频URL');\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        data: parsedInfo,\n                        message: '已切换到测试模式：无法从API获取真实视频URL'\n                    });\n                }\n                console.log(`[API] 检测到媒体类型: ${detectedMediaType}`);\n                // 根据媒体类型构建不同的解析结果\n                if (detectedMediaType === _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO && videoUrl) {\n                    console.log(`[API] 最终视频URL: ${videoUrl}`);\n                    parsedInfo = {\n                        title: dataSource.title || dataSource.name || dataSource.video_title || '未知标题',\n                        author: extractAuthor(dataSource),\n                        description: extractDescription(dataSource),\n                        mediaType: _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO,\n                        url: videoUrl,\n                        duration: dataSource.duration || dataSource.length || dataSource.video_duration,\n                        fileSize: dataSource.fileSize || dataSource.size || dataSource.file_size,\n                        format: dataSource.format || dataSource.file_format || dataSource.type || 'mp4',\n                        thumbnail: dataSource.thumbnail || dataSource.cover || dataSource.poster || dataSource.image\n                    };\n                } else if (detectedMediaType === _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.IMAGE_ALBUM && images.length > 0) {\n                    console.log(`[API] 检测到图集，包含 ${images.length} 张图片`);\n                    parsedInfo = {\n                        title: dataSource.title || dataSource.name || dataSource.video_title || '未知图集',\n                        author: extractAuthor(dataSource),\n                        description: extractDescription(dataSource),\n                        mediaType: _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.IMAGE_ALBUM,\n                        images: images,\n                        imageCount: images.length,\n                        thumbnail: images[0]?.url || dataSource.thumbnail || dataSource.cover\n                    };\n                } else {\n                    throw new Error('无法解析媒体内容：既没有视频URL也没有图片');\n                }\n            } else {\n                // 解析失败，提供详细错误信息\n                const errorMsg = data.message || data.error || data.msg || (typeof data === 'string' ? data : '解析失败，无法识别API返回格式');\n                throw new Error(errorMsg);\n            }\n        } catch (error) {\n            console.error('[API] 数据解析错误:', error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: error instanceof Error ? error.message : '解析视频信息失败，API返回数据格式不兼容'\n            }, {\n                status: 400\n            });\n        }\n        const result = {\n            success: true,\n            data: parsedInfo\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(result);\n    } catch (error) {\n        console.error('[API] 视频解析错误:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: error instanceof Error ? error.message : '解析过程中发生未知错误'\n        }, {\n            status: 500\n        });\n    }\n}\n// 支持GET请求用于测试\nasync function GET(request) {\n    const searchParams = request.nextUrl.searchParams;\n    const videoUrl = searchParams.get('url');\n    const testMode = searchParams.get('test') === 'true';\n    if (!videoUrl && !testMode) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: '缺少视频链接参数'\n        }, {\n            status: 400\n        });\n    }\n    console.log(`[API] GET 请求测试模式: ${testMode}, URL: ${videoUrl}`);\n    // 用于模拟和测试的视频信息\n    let title = '测试视频标题';\n    // 备用测试视频URL列表\n    const testVideoUrls = [\n        'https://www.w3schools.com/html/mov_bbb.mp4',\n        'https://test-videos.co.uk/vids/bigbuckbunny/mp4/h264/360/Big_Buck_Bunny_360_10s_1MB.mp4',\n        'https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4',\n        'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4' // 另一个 Google 示例视频\n    ];\n    // 随机选择一个备用URL\n    let fileUrl = testVideoUrls[Math.floor(Math.random() * testVideoUrls.length)];\n    let duration = 120;\n    // 如果提供了实际URL，尝试从URL中提取一些信息作为标题\n    if (videoUrl) {\n        try {\n            const url = new URL(videoUrl);\n            const pathParts = url.pathname.split('/').filter(Boolean);\n            if (pathParts.length > 0) {\n                const lastPart = pathParts[pathParts.length - 1];\n                if (lastPart) {\n                    title = decodeURIComponent(lastPart.replace(/\\.\\w+$/, '').replace(/-|_/g, ' '));\n                }\n            }\n        } catch (e) {\n        // 如果URL解析失败，使用默认标题\n        }\n    }\n    // 模拟解析结果用于测试\n    const mockResult = {\n        success: true,\n        data: {\n            title: videoUrl ? `[测试] ${title}` : `[测试视频] ${new Date().toISOString()}`,\n            author: '测试作者',\n            description: '这是一个测试视频的描述文本',\n            mediaType: _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO,\n            url: fileUrl,\n            duration: duration,\n            fileSize: 1024 * 1024 * 10,\n            format: 'mp4',\n            thumbnail: 'https://source.unsplash.com/random/1280x720/?video'\n        }\n    };\n    console.log('[API] 返回测试解析结果:', mockResult);\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(mockResult);\n}\n// {{ AURA: Add - 智能媒体类型检测函数 }}\nfunction detectMediaTypeAndExtractData(dataSource) {\n    // 检查是否包含图片数组字段\n    const imageArrayFields = [\n        'images',\n        'pics',\n        'pictures',\n        'photos',\n        'image_list',\n        'pic_list'\n    ];\n    for (const field of imageArrayFields){\n        if (dataSource[field] && Array.isArray(dataSource[field]) && dataSource[field].length > 0) {\n            console.log(`[API] 检测到图集字段: ${field}，包含 ${dataSource[field].length} 个项目`);\n            const images = dataSource[field].map((item, index)=>{\n                let imageUrl = '';\n                if (typeof item === 'string') {\n                    imageUrl = item;\n                } else if (typeof item === 'object' && item) {\n                    // 尝试从对象中提取图片URL\n                    const urlFields = [\n                        'url',\n                        'src',\n                        'image_url',\n                        'pic_url',\n                        'photo_url',\n                        'link',\n                        'href'\n                    ];\n                    for (const urlField of urlFields){\n                        if (item[urlField] && typeof item[urlField] === 'string') {\n                            imageUrl = item[urlField];\n                            break;\n                        }\n                    }\n                }\n                if (imageUrl && imageUrl.startsWith('http')) {\n                    return {\n                        url: imageUrl,\n                        filename: `image_${(index + 1).toString().padStart(3, '0')}.jpg`\n                    };\n                }\n                return null;\n            }).filter((item)=>item !== null);\n            if (images.length > 0) {\n                return {\n                    mediaType: _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.IMAGE_ALBUM,\n                    images: images\n                };\n            }\n        }\n    }\n    // 检查视频URL字段\n    const videoUrlFields = [\n        'url',\n        'video_url',\n        'videoUrl',\n        'play_url',\n        'playAddr',\n        'download_url',\n        'downloadUrl'\n    ];\n    for (const field of videoUrlFields){\n        if (dataSource[field] && typeof dataSource[field] === 'string' && dataSource[field].startsWith('http')) {\n            console.log(`[API] 检测到视频URL字段: ${field}`);\n            return {\n                mediaType: _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO,\n                videoUrl: dataSource[field]\n            };\n        }\n    }\n    // 深度搜索嵌套对象\n    for(const key in dataSource){\n        if (typeof dataSource[key] === 'object' && dataSource[key]) {\n            const nestedResult = detectMediaTypeAndExtractData(dataSource[key]);\n            if (nestedResult.mediaType === _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.IMAGE_ALBUM && nestedResult.images?.length || nestedResult.mediaType === _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO && nestedResult.videoUrl) {\n                return nestedResult;\n            }\n        }\n    }\n    // 默认返回视频类型\n    return {\n        mediaType: _types__WEBPACK_IMPORTED_MODULE_1__.MediaType.VIDEO\n    };\n}\n// {{ AURA: Add - 提取作者信息的函数 }}\nfunction extractAuthor(dataSource) {\n    const authorFields = [\n        'author',\n        'creator',\n        'user',\n        'username',\n        'nickname',\n        'name',\n        'author_name',\n        'user_name'\n    ];\n    for (const field of authorFields){\n        if (dataSource[field]) {\n            if (typeof dataSource[field] === 'string') {\n                return dataSource[field];\n            } else if (typeof dataSource[field] === 'object' && dataSource[field]) {\n                // 从作者对象中提取名称\n                const nameFields = [\n                    'name',\n                    'nickname',\n                    'username',\n                    'title'\n                ];\n                for (const nameField of nameFields){\n                    if (dataSource[field][nameField] && typeof dataSource[field][nameField] === 'string') {\n                        return dataSource[field][nameField];\n                    }\n                }\n            }\n        }\n    }\n    return undefined;\n}\n// {{ AURA: Add - 提取描述信息的函数 }}\nfunction extractDescription(dataSource, fallbackTitle) {\n    const descFields = [\n        'description',\n        'desc',\n        'content',\n        'text',\n        'caption',\n        'summary',\n        'detail'\n    ];\n    for (const field of descFields){\n        if (dataSource[field] && typeof dataSource[field] === 'string' && dataSource[field].trim()) {\n            return dataSource[field].trim();\n        }\n    }\n    // 如果没有找到描述，使用标题作为备用\n    return fallbackTitle;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7b0JBQVE7b0JBQVk7b0JBQVk7aUJBQVE7Z0JBQzVELEtBQUssTUFBTUMsYUFBYUQsV0FBWTtvQkFDbEMsSUFBSW5ELFVBQVUsQ0FBQ1EsTUFBTSxDQUFDNEMsVUFBVSxJQUFJLE9BQU9wRCxVQUFVLENBQUNRLE1BQU0sQ0FBQzRDLFVBQVUsS0FBSyxVQUFVO3dCQUNwRixPQUFPcEQsVUFBVSxDQUFDUSxNQUFNLENBQUM0QyxVQUFVO29CQUNyQztnQkFDRjtZQUNGO1FBQ0Y7SUFDRjtJQUVBLE9BQU83RDtBQUNUO0FBRUEsOEJBQThCO0FBQzlCLFNBQVNOLG1CQUFtQmUsVUFBZSxFQUFFcUQsYUFBc0I7SUFDakUsTUFBTUMsYUFBYTtRQUFDO1FBQWU7UUFBUTtRQUFXO1FBQVE7UUFBVztRQUFXO0tBQVM7SUFFN0YsS0FBSyxNQUFNOUMsU0FBUzhDLFdBQVk7UUFDOUIsSUFBSXRELFVBQVUsQ0FBQ1EsTUFBTSxJQUFJLE9BQU9SLFVBQVUsQ0FBQ1EsTUFBTSxLQUFLLFlBQVlSLFVBQVUsQ0FBQ1EsTUFBTSxDQUFDK0MsSUFBSSxJQUFJO1lBQzFGLE9BQU92RCxVQUFVLENBQUNRLE1BQU0sQ0FBQytDLElBQUk7UUFDL0I7SUFDRjtJQUVBLG9CQUFvQjtJQUNwQixPQUFPRjtBQUNUIiwic291cmNlcyI6WyJEOlxcR2l0SHViXFxkeWp4bmV4dFxcZHlqeFxcc3JjXFxhcHBcXGFwaVxccHJveHlcXHBhcnNlclxccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xyXG5pbXBvcnQgeyBWaWRlb1BhcnNlUmVzcG9uc2UsIFBhcnNlZFZpZGVvSW5mbywgTWVkaWFUeXBlLCBJbWFnZUluZm8gfSBmcm9tICdAL3R5cGVzJ1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgeyB2aWRlb1VybCwgcGFyc2VyQ29uZmlnIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxyXG5cclxuICAgIGlmICghdmlkZW9VcmwgfHwgIXBhcnNlckNvbmZpZykge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiAn57y65bCR5b+F6KaB5Y+C5pWwJ1xyXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coYFtBUEldIOino+aekOinhumikemTvuaOpTogJHt2aWRlb1VybH1gKVxyXG4gICAgY29uc29sZS5sb2coYFtBUEldIOS9v+eUqOino+aekOWZqDogJHtwYXJzZXJDb25maWcubmFtZX1gKVxyXG5cclxuICAgIC8vIOaehOW7uuivt+axguWIsOesrOS4ieaWueino+aekEFQSVxyXG4gICAgbGV0IGZpbmFsQXBpVXJsID0gcGFyc2VyQ29uZmlnLmFwaVVybDtcclxuICAgIGxldCBtZXRob2QgPSAnUE9TVCc7IC8vIOm7mOiupOS9v+eUqFBPU1RcclxuICAgIGNvbnN0IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNidcclxuICAgIH1cclxuXHJcbiAgICAvLyDliKTmlq3mmK/lkKbpnIDopoHkvb/nlKhHRVTor7fmsYLvvIjmoLnmja7phY3nva7miJZBUEkgVVJM5qC85byP77yJXHJcbiAgICBjb25zdCBpc0dldFJlcXVlc3QgPSBcclxuICAgICAgcGFyc2VyQ29uZmlnLnJlcXVlc3RNZXRob2QgPT09ICdHRVQnIHx8XHJcbiAgICAgIHBhcnNlckNvbmZpZy51c2VHZXRNZXRob2QgPT09IHRydWUgfHxcclxuICAgICAgcGFyc2VyQ29uZmlnLmFwaVVybC5pbmNsdWRlcygnP3VybD0nKSB8fCBcclxuICAgICAgcGFyc2VyQ29uZmlnLmFwaVVybC5pbmNsdWRlcygnanhjeGluJykgfHxcclxuICAgICAgcGFyc2VyQ29uZmlnLmFwaVVybC5pbmNsdWRlcygnYXBpcy4nKSB8fFxyXG4gICAgICBwYXJzZXJDb25maWcubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKCdnZXQnKTtcclxuXHJcbiAgICAvLyDmoLnmja5BUEnnsbvlnovmnoTlu7rmnIDnu4jor7fmsYJcclxuICAgIGlmIChpc0dldFJlcXVlc3QpIHtcclxuICAgICAgbWV0aG9kID0gJ0dFVCc7XHJcbiAgICAgIFxyXG4gICAgICAvLyDnoa7lrppVUkzlj4LmlbDlkI3np7BcclxuICAgICAgY29uc3QgdXJsUGFyYW1OYW1lID0gcGFyc2VyQ29uZmlnLnVybFBhcmFtTmFtZSB8fCAndXJsJztcclxuICAgICAgXHJcbiAgICAgIC8vIOWkhOeQhueJueauiuaDheWGte+8mmp4Y3hpbiBBUElcclxuICAgICAgaWYgKHBhcnNlckNvbmZpZy5hcGlVcmwuaW5jbHVkZXMoJ2p4Y3hpbicpKSB7XHJcbiAgICAgICAgLy8g5a+55LqOanhjeGluIEFQSe+8jOehruS/neagvOW8j+S4uiBodHRwczovL2FwaXMuanhjeGluLmNuL2FwaS9kb3V5aW4/dXJsPeinhumikeWcsOWdgFxyXG4gICAgICAgIGlmIChwYXJzZXJDb25maWcuYXBpVXJsLmVuZHNXaXRoKCc/dXJsPScpKSB7XHJcbiAgICAgICAgICAvLyBVUkzlt7Lnu4/ljIXlkKvlj4LmlbDlkI3lkoznrYnlj7dcclxuICAgICAgICAgIGZpbmFsQXBpVXJsID0gYCR7cGFyc2VyQ29uZmlnLmFwaVVybH0ke2VuY29kZVVSSUNvbXBvbmVudCh2aWRlb1VybCl9YDtcclxuICAgICAgICB9IGVsc2UgaWYgKHBhcnNlckNvbmZpZy5hcGlVcmwuaW5jbHVkZXMoJz8nKSkge1xyXG4gICAgICAgICAgLy8gVVJM5YyF5ZCr5YW25LuW5Y+C5pWwXHJcbiAgICAgICAgICBmaW5hbEFwaVVybCA9IGAke3BhcnNlckNvbmZpZy5hcGlVcmx9JnVybD0ke2VuY29kZVVSSUNvbXBvbmVudCh2aWRlb1VybCl9YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gVVJM6ZyA6KaB5re75Yqg5Y+C5pWwXHJcbiAgICAgICAgICBmaW5hbEFwaVVybCA9IGAke3BhcnNlckNvbmZpZy5hcGlVcmx9P3VybD0ke2VuY29kZVVSSUNvbXBvbmVudCh2aWRlb1VybCl9YDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gXHJcbiAgICAgIC8vIOmAmueUqEdFVOivt+axguWkhOeQhlxyXG4gICAgICBlbHNlIHtcclxuICAgICAgICAvLyDmo4Dmn6VBUEkgVVJM5piv5ZCm5bey57uP5YyF5ZCrdXJs5Y+C5pWwXHJcbiAgICAgICAgaWYgKHBhcnNlckNvbmZpZy5hcGlVcmwuZW5kc1dpdGgoJz0nKSkge1xyXG4gICAgICAgICAgLy8gVVJM5bey57uP5YyF5ZCr5Y+C5pWw5ZCN5ZKM562J5Y+3XHJcbiAgICAgICAgICBmaW5hbEFwaVVybCA9IGAke3BhcnNlckNvbmZpZy5hcGlVcmx9JHtlbmNvZGVVUklDb21wb25lbnQodmlkZW9VcmwpfWA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChwYXJzZXJDb25maWcuYXBpVXJsLmluY2x1ZGVzKCc/JykpIHtcclxuICAgICAgICAgIC8vIFVSTOWMheWQq+WFtuS7luWPguaVsFxyXG4gICAgICAgICAgZmluYWxBcGlVcmwgPSBgJHtwYXJzZXJDb25maWcuYXBpVXJsfSYke3VybFBhcmFtTmFtZX09JHtlbmNvZGVVUklDb21wb25lbnQodmlkZW9VcmwpfWA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIFVSTOmcgOimgea3u+WKoOWPguaVsFxyXG4gICAgICAgICAgZmluYWxBcGlVcmwgPSBgJHtwYXJzZXJDb25maWcuYXBpVXJsfT8ke3VybFBhcmFtTmFtZX09JHtlbmNvZGVVUklDb21wb25lbnQodmlkZW9VcmwpfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhgW0FQSV0g5L2/55SoR0VU6K+35rGCOiAke2ZpbmFsQXBpVXJsfWApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gUE9TVOivt+axglxyXG4gICAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgY29uc29sZS5sb2coYFtBUEldIOS9v+eUqFBPU1Tor7fmsYI6ICR7ZmluYWxBcGlVcmx9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5aaC5p6c5pyJQVBJ5a+G6ZKl77yM5re75Yqg5YiwaGVhZGVyc1xyXG4gICAgaWYgKHBhcnNlckNvbmZpZy5hcGlLZXkpIHtcclxuICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3BhcnNlckNvbmZpZy5hcGlLZXl9YFxyXG4gICAgICAvLyDmiJbogIXmoLnmja7lhbfkvZNBUEnnmoTopoHmsYLorr7nva5cclxuICAgICAgaGVhZGVyc1snWC1BUEktS2V5J10gPSBwYXJzZXJDb25maWcuYXBpS2V5XHJcbiAgICB9XHJcblxyXG4gICAgLy8g5p6E5bu66K+35rGC6YCJ6aG5XHJcbiAgICBjb25zdCByZXF1ZXN0T3B0aW9uczogUmVxdWVzdEluaXQgPSB7XHJcbiAgICAgIG1ldGhvZCxcclxuICAgICAgaGVhZGVycyxcclxuICAgICAgLy8g5Y+q5pyJUE9TVOivt+axguaJjemcgOimgeivt+axguS9k1xyXG4gICAgICAuLi4obWV0aG9kID09PSAnUE9TVCcgJiYge1xyXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIHVybDogdmlkZW9VcmwsXHJcbiAgICAgICAgICAvLyDlj6/ku6XmoLnmja7kuI3lkIznmoRBUEnmt7vliqDkuI3lkIznmoTlj4LmlbBcclxuICAgICAgICB9KVxyXG4gICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhgW0FQSV0g5pyA57uI6K+35rGCVVJMOiAke2ZpbmFsQXBpVXJsLnN1YnN0cmluZygwLCAxMDApfSR7ZmluYWxBcGlVcmwubGVuZ3RoID4gMTAwID8gJy4uLicgOiAnJ31gKTtcclxuICAgIGNvbnNvbGUubG9nKGBbQVBJXSDor7fmsYLmlrnms5U6ICR7bWV0aG9kfWApO1xyXG5cclxuICAgIC8vIOa3u+WKoOi2heaXtuaOp+WItlxyXG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcclxuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCAxNTAwMCk7IC8vIDE156eS6LaF5pe2XHJcbiAgICBcclxuICAgIGxldCByZXNwb25zZTtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZmluYWxBcGlVcmwsIHtcclxuICAgICAgICAuLi5yZXF1ZXN0T3B0aW9ucyxcclxuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsXHJcbiAgICAgIH0pO1xyXG4gICAgICBcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihgW0FQSV0g6Kej5p6QQVBJ6L+U5Zue6ZSZ6K+vOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgZXJyb3I6IGDop6PmnpBBUEnov5Tlm57plJnor686ICR7cmVzcG9uc2Uuc3RhdHVzfWBcclxuICAgICAgICB9LCB7IHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzIH0pXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGZldGNoRXJyb3IpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBUEldIOivt+axguWksei0pTonLCBmZXRjaEVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBmZXRjaEVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZmV0Y2hFcnJvcikpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIGVycm9yOiBg6K+35rGC6Kej5p6QQVBJ5aSx6LSlOiAke2ZldGNoRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGZldGNoRXJyb3IubWVzc2FnZSA6ICfnvZHnu5zplJnor68nfWBcclxuICAgICAgfSwgeyBzdGF0dXM6IDUwMCB9KVxyXG4gICAgfVxyXG5cclxuICAgIGxldCBkYXRhO1xyXG4gICAgdHJ5IHtcclxuICAgICAgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICAgICAgY29uc29sZS5sb2coJ1tBUEldIOaIkOWKn+iOt+WPluWTjeW6lDonLCBKU09OLnN0cmluZ2lmeShkYXRhKS5zdWJzdHJpbmcoMCwgNTAwKSk7XHJcbiAgICB9IGNhdGNoIChqc29uRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignW0FQSV0g6Kej5p6QSlNPTuWTjeW6lOWksei0pTonLCBqc29uRXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGpzb25FcnJvci5tZXNzYWdlIDogU3RyaW5nKGpzb25FcnJvcikpO1xyXG4gICAgICBcclxuICAgICAgLy8g5bCd6K+V6I635Y+W5paH5pys5ZON5bqUXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdGV4dFJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbQVBJXSDmlofmnKzlk43lupQ6JywgdGV4dFJlc3BvbnNlLnN1YnN0cmluZygwLCA1MDApKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyDlsJ3or5Xku47mlofmnKzkuK3mj5Dlj5blj6/og73nmoRKU09OXHJcbiAgICAgICAgaWYgKHRleHRSZXNwb25zZS5pbmNsdWRlcygneycpICYmIHRleHRSZXNwb25zZS5pbmNsdWRlcygnfScpKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBqc29uU3RhcnQgPSB0ZXh0UmVzcG9uc2UuaW5kZXhPZigneycpO1xyXG4gICAgICAgICAgICBjb25zdCBqc29uRW5kID0gdGV4dFJlc3BvbnNlLmxhc3RJbmRleE9mKCd9JykgKyAxO1xyXG4gICAgICAgICAgICBjb25zdCBqc29uUGFydCA9IHRleHRSZXNwb25zZS5zdWJzdHJpbmcoanNvblN0YXJ0LCBqc29uRW5kKTtcclxuICAgICAgICAgICAgZGF0YSA9IEpTT04ucGFyc2UoanNvblBhcnQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnW0FQSV0g5LuO5paH5pys5Lit5o+Q5Y+WSlNPTuaIkOWKnycpO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdbQVBJXSDku47mlofmnKzkuK3mj5Dlj5ZKU09O5aSx6LSlJyk7XHJcbiAgICAgICAgICAgIGRhdGEgPSB7IHRleHQ6IHRleHRSZXNwb25zZSB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkYXRhID0geyB0ZXh0OiB0ZXh0UmVzcG9uc2UgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKHRleHRFcnJvcikge1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgIGVycm9yOiAn5peg5rOV6Kej5p6QQVBJ5ZON5bqUJ1xyXG4gICAgICAgIH0sIHsgc3RhdHVzOiA1MDAgfSlcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coYFtBUEldIOino+aekOe7k+aenDpgLCBkYXRhKVxyXG5cclxuICAgIC8vIOagueaNruS4jeWQjOeahEFQSei/lOWbnuagvOW8j++8jOagh+WHhuWMluaVsOaNrue7k+aehFxyXG4gICAgbGV0IHBhcnNlZEluZm86IFBhcnNlZFZpZGVvSW5mb1xyXG4gICAgXHJcbiAgICAvLyDmm7TlgaXlo67nmoTmlbDmja7op6PmnpDpgLvovpFcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIOeJueauiuWkhOeQhmp4Y3hpbiBBUEkgKOWmguaenOajgOa1i+WIsOWFtuagvOW8jylcclxuICAgICAgaWYgKGZpbmFsQXBpVXJsLmluY2x1ZGVzKCdqeGN4aW4nKSB8fCBwYXJzZXJDb25maWcubmFtZS5pbmNsdWRlcygnanhjeGluJykpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnW0FQSV0g5qOA5rWL5YiwanhjeGluIEFQSeagvOW8jycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGp4Y3hpbiBBUEkg5Y+v6IO96L+U5ZueIHsgY29kZTogMjAwLCBtc2c6ICdzdWNjZXNzJywgZGF0YTogey4uLn0gfVxyXG4gICAgICAgIC8vIOaIluiAhemUmeivr+aDheWGtSB7IGNvZGU6IDEwMCwgbXNnOiAnVVJM5Li656m6JyB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMjAwIHx8IGRhdGEuY29kZSA9PT0gMCkge1xyXG4gICAgICAgICAgLy8g5oiQ5Yqf5oOF5Ya1XHJcbiAgICAgICAgICBjb25zdCBqeERhdGEgPSBkYXRhLmRhdGEgfHwge307XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIHt7IEFVUkE6IE1vZGlmeSAtIOS/ruWkjWp4Y3hpbiBBUEnlm77pm4bor4bliKvpl67popggfX1cclxuICAgICAgICAgIC8vIOajgOafpeaYr+WQpuaYr+Wbvumbhu+8iOWMheWQq3VybOaVsOe7hO+8iVxyXG4gICAgICAgICAgaWYgKGp4RGF0YS51cmwgJiYgQXJyYXkuaXNBcnJheShqeERhdGEudXJsKSkge1xyXG4gICAgICAgICAgICAvLyDlm77pm4bnsbvlnotcclxuICAgICAgICAgICAgY29uc3QgaW1hZ2VzID0ganhEYXRhLnVybC5tYXAoKHVybDogc3RyaW5nLCBpbmRleDogbnVtYmVyKSA9PiAoe1xyXG4gICAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICAgIGZpbGVuYW1lOiBgaW1hZ2VfJHsoaW5kZXggKyAxKS50b1N0cmluZygpLnBhZFN0YXJ0KDMsICcwJyl9LmpwZ2BcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcGFyc2VkSW5mbyA9IHtcclxuICAgICAgICAgICAgICB0aXRsZToganhEYXRhLnRpdGxlIHx8IGp4RGF0YS5kZXNjIHx8ICfmnKrnn6Xlm77pm4YnLFxyXG4gICAgICAgICAgICAgIGF1dGhvcjogZXh0cmFjdEF1dGhvcihqeERhdGEpLFxyXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBleHRyYWN0RGVzY3JpcHRpb24oanhEYXRhKSxcclxuICAgICAgICAgICAgICBtZWRpYVR5cGU6IE1lZGlhVHlwZS5JTUFHRV9BTEJVTSxcclxuICAgICAgICAgICAgICBpbWFnZXM6IGltYWdlcyxcclxuICAgICAgICAgICAgICBpbWFnZUNvdW50OiBpbWFnZXMubGVuZ3RoLFxyXG4gICAgICAgICAgICAgIHRodW1ibmFpbDoganhEYXRhLmNvdmVyIHx8IGp4RGF0YS50aHVtYm5haWwgfHwgKGltYWdlcy5sZW5ndGggPiAwID8gaW1hZ2VzWzBdLnVybCA6IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIOinhumikeexu+Wei1xyXG4gICAgICAgICAgICBwYXJzZWRJbmZvID0ge1xyXG4gICAgICAgICAgICAgIHRpdGxlOiBqeERhdGEudGl0bGUgfHwganhEYXRhLmRlc2MgfHwgJ+acquefpeagh+mimCcsXHJcbiAgICAgICAgICAgICAgYXV0aG9yOiBleHRyYWN0QXV0aG9yKGp4RGF0YSksXHJcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGV4dHJhY3REZXNjcmlwdGlvbihqeERhdGEpLFxyXG4gICAgICAgICAgICAgIG1lZGlhVHlwZTogTWVkaWFUeXBlLlZJREVPLFxyXG4gICAgICAgICAgICAgIHVybDoganhEYXRhLnVybCB8fCBqeERhdGEudmlkZW9fdXJsIHx8IGp4RGF0YS5wbGF5QWRkciB8fCAnJyxcclxuICAgICAgICAgICAgICBkdXJhdGlvbjoganhEYXRhLmR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgIGZpbGVTaXplOiBqeERhdGEuc2l6ZSxcclxuICAgICAgICAgICAgICBmb3JtYXQ6ICdtcDQnLFxyXG4gICAgICAgICAgICAgIHRodW1ibmFpbDoganhEYXRhLmNvdmVyIHx8IGp4RGF0YS50aHVtYm5haWxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICghcGFyc2VkSW5mby51cmwpIHtcclxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+ino+aekOe7k+aenOS4reayoeacieinhumikVVSTCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgIGRhdGE6IHBhcnNlZEluZm9cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyDplJnor6/mg4XlhrVcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkYXRhLm1zZyB8fCAn6Kej5p6Q5aSx6LSlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyDpgJrnlKjop6PmnpDpgLvovpFcclxuICAgICAgLy8g5qOA5p+l5bi46KeB55qEQVBJ6L+U5Zue5qC85byPXHJcbiAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgPT09IHRydWUgfHwgZGF0YS5jb2RlID09PSAyMDAgfHwgZGF0YS5jb2RlID09PSAwKSB7XHJcbiAgICAgICAgLy8g5bCd6K+V5LuO5LiN5ZCM55qE5L2N572u6I635Y+W5pWw5o2uXHJcbiAgICAgICAgY29uc3QgZGF0YVNvdXJjZSA9IGRhdGEuZGF0YSB8fCBkYXRhLnJlc3VsdCB8fCBkYXRhXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g5bCd6K+V6Kej5p6Q6KeG6aKRVVJMICjmt7vliqDmm7TlpJrlj6/og73nmoTlrZfmrrUpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1tBUEldIOaVsOaNrua6kOe7k+aehDonLCBPYmplY3Qua2V5cyhkYXRhU291cmNlKSlcclxuICAgICAgICBcclxuICAgICAgICAvLyDmt7HluqbmkJzntKLlr7nosaHkuK3ku7vkvZXlj6/og73nmoRVUkzlrZfmrrVcclxuICAgICAgICBsZXQgdmlkZW9VcmwgPSBudWxsXHJcbiAgICAgICAgbGV0IGltYWdlczogSW1hZ2VJbmZvW10gPSBbXVxyXG4gICAgICAgIGxldCBkZXRlY3RlZE1lZGlhVHlwZSA9IE1lZGlhVHlwZS5WSURFTyAvLyDpu5jorqTkuLrop4bpopHnsbvlnotcclxuICAgICAgICBcclxuICAgICAgICAvLyB7eyBBVVJBOiBBZGQgLSDmo4DmtYvlqpLkvZPnsbvlnovlkozmj5Dlj5bnm7jlupTmlbDmja4gfX1cclxuICAgICAgICBjb25zdCBtZWRpYURldGVjdGlvblJlc3VsdCA9IGRldGVjdE1lZGlhVHlwZUFuZEV4dHJhY3REYXRhKGRhdGFTb3VyY2UpXHJcbiAgICAgICAgZGV0ZWN0ZWRNZWRpYVR5cGUgPSBtZWRpYURldGVjdGlvblJlc3VsdC5tZWRpYVR5cGVcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZGV0ZWN0ZWRNZWRpYVR5cGUgPT09IE1lZGlhVHlwZS5WSURFTykge1xyXG4gICAgICAgICAgdmlkZW9VcmwgPSBtZWRpYURldGVjdGlvblJlc3VsdC52aWRlb1VybFxyXG4gICAgICAgIH0gZWxzZSBpZiAoZGV0ZWN0ZWRNZWRpYVR5cGUgPT09IE1lZGlhVHlwZS5JTUFHRV9BTEJVTSkge1xyXG4gICAgICAgICAgaW1hZ2VzID0gbWVkaWFEZXRlY3Rpb25SZXN1bHQuaW1hZ2VzIHx8IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOWmguaenOayoeacieajgOa1i+WIsOaYjuehrueahOWqkuS9k+exu+Wei++8jOWwneivleWOn+adpeeahOmAu+i+kVxyXG4gICAgICAgIGlmICghdmlkZW9VcmwgJiYgaW1hZ2VzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgY29uc3QgcG9zc2libGVVcmxGaWVsZHMgPSBbJ3VybCcsICdkb3dubG9hZF91cmwnLCAncGxheV91cmwnLCAnZG93bmxvYWRVcmwnLCAncGxheVVybCcsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndmlkZW9fdXJsJywgJ3ZpZGVvVXJsJywgJ21lZGlhX3VybCcsICdtZWRpYVVybCcsICdtcDQnLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3NyYycsICdzb3VyY2UnLCAnbGluaycsICdjb250ZW50JywgJ3ZpZGVvJywgJ2hkJywgJ3NkJywgJ3BsYXlBZGRyJ11cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8g5YWI55u05o6l5p+l5om+5LiA57qn5a2X5q61XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIHBvc3NpYmxlVXJsRmllbGRzKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhU291cmNlW2ZpZWxkXSAmJiB0eXBlb2YgZGF0YVNvdXJjZVtmaWVsZF0gPT09ICdzdHJpbmcnICYmIGRhdGFTb3VyY2VbZmllbGRdLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xyXG4gICAgICAgICAgICAgIHZpZGVvVXJsID0gZGF0YVNvdXJjZVtmaWVsZF1cclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0FQSV0g5om+5Yiw6KeG6aKRVVJMKCR7ZmllbGR9KTogJHt2aWRlb1VybH1gKVxyXG4gICAgICAgICAgICAgIGRldGVjdGVkTWVkaWFUeXBlID0gTWVkaWFUeXBlLlZJREVPXHJcbiAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyDlpoLmnpzmsqHmib7liLDvvIzmn6Xmib7kuoznuqflrZfmrrVcclxuICAgICAgICAgIGlmICghdmlkZW9VcmwpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gZGF0YVNvdXJjZSkge1xyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVNvdXJjZVtrZXldID09PSAnb2JqZWN0JyAmJiBkYXRhU291cmNlW2tleV0pIHtcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgcG9zc2libGVVcmxGaWVsZHMpIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKGRhdGFTb3VyY2Vba2V5XVtmaWVsZF0gJiYgdHlwZW9mIGRhdGFTb3VyY2Vba2V5XVtmaWVsZF0gPT09ICdzdHJpbmcnICYmIFxyXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YVNvdXJjZVtrZXldW2ZpZWxkXS5zdGFydHNXaXRoKCdodHRwJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWRlb1VybCA9IGRhdGFTb3VyY2Vba2V5XVtmaWVsZF1cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0FQSV0g5om+5Yiw5bWM5aWX6KeG6aKRVVJMKCR7a2V5fS4ke2ZpZWxkfSk6ICR7dmlkZW9Vcmx9YClcclxuICAgICAgICAgICAgICAgICAgICBkZXRlY3RlZE1lZGlhVHlwZSA9IE1lZGlhVHlwZS5WSURFT1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2aWRlb1VybCkgYnJlYWtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g5aaC5p6c6L+Y5piv5rKh5om+5Yiw6KeG6aKRVVJM5LiU5Lmf5rKh5pyJ5Zu+54mH77yM5L2/55So5aSH55SoVVJMICjkvb/nlKjmtYvor5Xop4bpopEpXHJcbiAgICAgICAgaWYgKCF2aWRlb1VybCAmJiBpbWFnZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1tBUEldIOaXoOazleS7jkFQSeWTjeW6lOS4reiOt+WPluWqkuS9k1VSTO+8jOWwneivleS9v+eUqOWkh+eUqOa1i+ivleinhumikScpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIOWkh+eUqOa1i+ivleinhumikVVSTOWIl+ihqFxyXG4gICAgICAgICAgY29uc3QgYmFja3VwVXJscyA9IFtcclxuICAgICAgICAgICAgJ2h0dHBzOi8vd3d3Lnczc2Nob29scy5jb20vaHRtbC9tb3ZfYmJiLm1wNCcsIC8vIFczU2Nob29scyDnpLrkvovop4bpopFcclxuICAgICAgICAgICAgJ2h0dHBzOi8vdGVzdC12aWRlb3MuY28udWsvdmlkcy9iaWdidWNrYnVubnkvbXA0L2gyNjQvMzYwL0JpZ19CdWNrX0J1bm55XzM2MF8xMHNfMU1CLm1wNCcsIC8vIOWPpuS4gOS4qua1i+ivleinhumikVxyXG4gICAgICAgICAgICAnaHR0cHM6Ly9zdG9yYWdlLmdvb2dsZWFwaXMuY29tL2d0di12aWRlb3MtYnVja2V0L3NhbXBsZS9Gb3JCaWdnZXJCbGF6ZXMubXA0JywgLy8gR29vZ2xlIOekuuS+i+inhumikVxyXG4gICAgICAgICAgICAnaHR0cHM6Ly9jb21tb25kYXRhc3RvcmFnZS5nb29nbGVhcGlzLmNvbS9ndHYtdmlkZW9zLWJ1Y2tldC9zYW1wbGUvRWxlcGhhbnRzRHJlYW0ubXA0JyAvLyDlj6bkuIDkuKogR29vZ2xlIOekuuS+i+inhumikVxyXG4gICAgICAgICAgXTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8g6ZqP5py66YCJ5oup5LiA5Liq5aSH55SoVVJMXHJcbiAgICAgICAgICB2aWRlb1VybCA9IGJhY2t1cFVybHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYmFja3VwVXJscy5sZW5ndGgpXTtcclxuICAgICAgICAgIGRldGVjdGVkTWVkaWFUeXBlID0gTWVkaWFUeXBlLlZJREVPXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIOagh+iusOS4uua1i+ivleaooeW8j1xyXG4gICAgICAgICAgY29uc3QgdGl0bGUgPSBkYXRhU291cmNlLnRpdGxlIHx8IGRhdGFTb3VyY2UubmFtZSB8fCAn5pyq55+l6KeG6aKRICjmtYvor5XmqKHlvI8pJ1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBwYXJzZWRJbmZvID0ge1xyXG4gICAgICAgICAgICB0aXRsZTogYCR7dGl0bGV9IFvmtYvor5XmqKHlvI9dYCxcclxuICAgICAgICAgICAgYXV0aG9yOiBleHRyYWN0QXV0aG9yKGRhdGFTb3VyY2UpLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZXh0cmFjdERlc2NyaXB0aW9uKGRhdGFTb3VyY2UsIHRpdGxlKSxcclxuICAgICAgICAgICAgbWVkaWFUeXBlOiBNZWRpYVR5cGUuVklERU8sXHJcbiAgICAgICAgICAgIHVybDogdmlkZW9VcmwsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiAzMCxcclxuICAgICAgICAgICAgZmlsZVNpemU6IDEwMjQgKiAxMDI0ICogMTAsIC8vIDEwTUJcclxuICAgICAgICAgICAgZm9ybWF0OiAnbXA0JyxcclxuICAgICAgICAgICAgdGh1bWJuYWlsOiAnaHR0cHM6Ly9zb3VyY2UudW5zcGxhc2guY29tL3JhbmRvbS8xMjgweDcyMC8/dmlkZW8nXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdbQVBJXSDlt7LliIfmjaLliLDmtYvor5XmqKHlvI/vvIzlsIbkvb/nlKjlpIfnlKjop4bpopFVUkwnKVxyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgZGF0YTogcGFyc2VkSW5mbyxcclxuICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWIh+aNouWIsOa1i+ivleaooeW8j++8muaXoOazleS7jkFQSeiOt+WPluecn+WunuinhumikVVSTCdcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBbQVBJXSDmo4DmtYvliLDlqpLkvZPnsbvlnos6ICR7ZGV0ZWN0ZWRNZWRpYVR5cGV9YClcclxuICAgICAgICBcclxuICAgICAgICAvLyDmoLnmja7lqpLkvZPnsbvlnovmnoTlu7rkuI3lkIznmoTop6PmnpDnu5PmnpxcclxuICAgICAgICBpZiAoZGV0ZWN0ZWRNZWRpYVR5cGUgPT09IE1lZGlhVHlwZS5WSURFTyAmJiB2aWRlb1VybCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYFtBUEldIOacgOe7iOinhumikVVSTDogJHt2aWRlb1VybH1gKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBwYXJzZWRJbmZvID0ge1xyXG4gICAgICAgICAgICB0aXRsZTogZGF0YVNvdXJjZS50aXRsZSB8fCBkYXRhU291cmNlLm5hbWUgfHwgZGF0YVNvdXJjZS52aWRlb190aXRsZSB8fCAn5pyq55+l5qCH6aKYJyxcclxuICAgICAgICAgICAgYXV0aG9yOiBleHRyYWN0QXV0aG9yKGRhdGFTb3VyY2UpLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogZXh0cmFjdERlc2NyaXB0aW9uKGRhdGFTb3VyY2UpLFxyXG4gICAgICAgICAgICBtZWRpYVR5cGU6IE1lZGlhVHlwZS5WSURFTyxcclxuICAgICAgICAgICAgdXJsOiB2aWRlb1VybCxcclxuICAgICAgICAgICAgZHVyYXRpb246IGRhdGFTb3VyY2UuZHVyYXRpb24gfHwgZGF0YVNvdXJjZS5sZW5ndGggfHwgZGF0YVNvdXJjZS52aWRlb19kdXJhdGlvbixcclxuICAgICAgICAgICAgZmlsZVNpemU6IGRhdGFTb3VyY2UuZmlsZVNpemUgfHwgZGF0YVNvdXJjZS5zaXplIHx8IGRhdGFTb3VyY2UuZmlsZV9zaXplLFxyXG4gICAgICAgICAgICBmb3JtYXQ6IGRhdGFTb3VyY2UuZm9ybWF0IHx8IGRhdGFTb3VyY2UuZmlsZV9mb3JtYXQgfHwgZGF0YVNvdXJjZS50eXBlIHx8ICdtcDQnLFxyXG4gICAgICAgICAgICB0aHVtYm5haWw6IGRhdGFTb3VyY2UudGh1bWJuYWlsIHx8IGRhdGFTb3VyY2UuY292ZXIgfHwgZGF0YVNvdXJjZS5wb3N0ZXIgfHwgZGF0YVNvdXJjZS5pbWFnZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoZGV0ZWN0ZWRNZWRpYVR5cGUgPT09IE1lZGlhVHlwZS5JTUFHRV9BTEJVTSAmJiBpbWFnZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYFtBUEldIOajgOa1i+WIsOWbvumbhu+8jOWMheWQqyAke2ltYWdlcy5sZW5ndGh9IOW8oOWbvueJh2ApXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHBhcnNlZEluZm8gPSB7XHJcbiAgICAgICAgICAgIHRpdGxlOiBkYXRhU291cmNlLnRpdGxlIHx8IGRhdGFTb3VyY2UubmFtZSB8fCBkYXRhU291cmNlLnZpZGVvX3RpdGxlIHx8ICfmnKrnn6Xlm77pm4YnLFxyXG4gICAgICAgICAgICBhdXRob3I6IGV4dHJhY3RBdXRob3IoZGF0YVNvdXJjZSksXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBleHRyYWN0RGVzY3JpcHRpb24oZGF0YVNvdXJjZSksXHJcbiAgICAgICAgICAgIG1lZGlhVHlwZTogTWVkaWFUeXBlLklNQUdFX0FMQlVNLFxyXG4gICAgICAgICAgICBpbWFnZXM6IGltYWdlcyxcclxuICAgICAgICAgICAgaW1hZ2VDb3VudDogaW1hZ2VzLmxlbmd0aCxcclxuICAgICAgICAgICAgdGh1bWJuYWlsOiBpbWFnZXNbMF0/LnVybCB8fCBkYXRhU291cmNlLnRodW1ibmFpbCB8fCBkYXRhU291cmNlLmNvdmVyXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcign5peg5rOV6Kej5p6Q5aqS5L2T5YaF5a6577ya5pei5rKh5pyJ6KeG6aKRVVJM5Lmf5rKh5pyJ5Zu+54mHJylcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8g6Kej5p6Q5aSx6LSl77yM5o+Q5L6b6K+m57uG6ZSZ6K+v5L+h5oGvXHJcbiAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBkYXRhLm1lc3NhZ2UgfHwgZGF0YS5lcnJvciB8fCBkYXRhLm1zZyB8fCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJyA/IGRhdGEgOiAn6Kej5p6Q5aSx6LSl77yM5peg5rOV6K+G5YirQVBJ6L+U5Zue5qC85byPJylcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JNc2cpXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1tBUEldIOaVsOaNruino+aekOmUmeivrzonLCBlcnJvcilcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAn6Kej5p6Q6KeG6aKR5L+h5oGv5aSx6LSl77yMQVBJ6L+U5Zue5pWw5o2u5qC85byP5LiN5YW85a65J1xyXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVzdWx0OiBWaWRlb1BhcnNlUmVzcG9uc2UgPSB7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIGRhdGE6IHBhcnNlZEluZm9cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24ocmVzdWx0KVxyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignW0FQSV0g6KeG6aKR6Kej5p6Q6ZSZ6K+vOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICfop6PmnpDov4fnqIvkuK3lj5HnlJ/mnKrnn6XplJnor68nXHJcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pXHJcbiAgfVxyXG59XHJcblxyXG4vLyDmlK/mjIFHRVTor7fmsYLnlKjkuo7mtYvor5VcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IHNlYXJjaFBhcmFtcyA9IHJlcXVlc3QubmV4dFVybC5zZWFyY2hQYXJhbXNcclxuICBjb25zdCB2aWRlb1VybCA9IHNlYXJjaFBhcmFtcy5nZXQoJ3VybCcpXHJcbiAgY29uc3QgdGVzdE1vZGUgPSBzZWFyY2hQYXJhbXMuZ2V0KCd0ZXN0JykgPT09ICd0cnVlJ1xyXG5cclxuICBpZiAoIXZpZGVvVXJsICYmICF0ZXN0TW9kZSkge1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiAn57y65bCR6KeG6aKR6ZO+5o6l5Y+C5pWwJ1xyXG4gICAgfSwgeyBzdGF0dXM6IDQwMCB9KVxyXG4gIH1cclxuICBcclxuICBjb25zb2xlLmxvZyhgW0FQSV0gR0VUIOivt+axgua1i+ivleaooeW8jzogJHt0ZXN0TW9kZX0sIFVSTDogJHt2aWRlb1VybH1gKVxyXG5cclxuICAvLyDnlKjkuo7mqKHmi5/lkozmtYvor5XnmoTop4bpopHkv6Hmga9cclxuICBsZXQgdGl0bGUgPSAn5rWL6K+V6KeG6aKR5qCH6aKYJ1xyXG4gIFxyXG4gIC8vIOWkh+eUqOa1i+ivleinhumikVVSTOWIl+ihqFxyXG4gIGNvbnN0IHRlc3RWaWRlb1VybHMgPSBbXHJcbiAgICAnaHR0cHM6Ly93d3cudzNzY2hvb2xzLmNvbS9odG1sL21vdl9iYmIubXA0JywgLy8gVzNTY2hvb2xzIOekuuS+i+inhumikVxyXG4gICAgJ2h0dHBzOi8vdGVzdC12aWRlb3MuY28udWsvdmlkcy9iaWdidWNrYnVubnkvbXA0L2gyNjQvMzYwL0JpZ19CdWNrX0J1bm55XzM2MF8xMHNfMU1CLm1wNCcsIC8vIOWPpuS4gOS4qua1i+ivleinhumikVxyXG4gICAgJ2h0dHBzOi8vc3RvcmFnZS5nb29nbGVhcGlzLmNvbS9ndHYtdmlkZW9zLWJ1Y2tldC9zYW1wbGUvRm9yQmlnZ2VyQmxhemVzLm1wNCcsIC8vIEdvb2dsZSDnpLrkvovop4bpopFcclxuICAgICdodHRwczovL2NvbW1vbmRhdGFzdG9yYWdlLmdvb2dsZWFwaXMuY29tL2d0di12aWRlb3MtYnVja2V0L3NhbXBsZS9FbGVwaGFudHNEcmVhbS5tcDQnIC8vIOWPpuS4gOS4qiBHb29nbGUg56S65L6L6KeG6aKRXHJcbiAgXTtcclxuICBcclxuICAvLyDpmo/mnLrpgInmi6nkuIDkuKrlpIfnlKhVUkxcclxuICBsZXQgZmlsZVVybCA9IHRlc3RWaWRlb1VybHNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogdGVzdFZpZGVvVXJscy5sZW5ndGgpXTtcclxuICBsZXQgZHVyYXRpb24gPSAxMjBcclxuICBcclxuICAvLyDlpoLmnpzmj5Dkvpvkuoblrp7pmYVVUkzvvIzlsJ3or5Xku45VUkzkuK3mj5Dlj5bkuIDkupvkv6Hmga/kvZzkuLrmoIfpophcclxuICBpZiAodmlkZW9VcmwpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodmlkZW9VcmwpXHJcbiAgICAgIGNvbnN0IHBhdGhQYXJ0cyA9IHVybC5wYXRobmFtZS5zcGxpdCgnLycpLmZpbHRlcihCb29sZWFuKVxyXG4gICAgICBpZiAocGF0aFBhcnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zdCBsYXN0UGFydCA9IHBhdGhQYXJ0c1twYXRoUGFydHMubGVuZ3RoIC0gMV1cclxuICAgICAgICBpZiAobGFzdFBhcnQpIHtcclxuICAgICAgICAgIHRpdGxlID0gZGVjb2RlVVJJQ29tcG9uZW50KGxhc3RQYXJ0LnJlcGxhY2UoL1xcLlxcdyskLywgJycpLnJlcGxhY2UoLy18Xy9nLCAnICcpKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAvLyDlpoLmnpxVUkzop6PmnpDlpLHotKXvvIzkvb/nlKjpu5jorqTmoIfpophcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIOaooeaLn+ino+aekOe7k+aenOeUqOS6jua1i+ivlVxyXG4gIGNvbnN0IG1vY2tSZXN1bHQ6IFZpZGVvUGFyc2VSZXNwb25zZSA9IHtcclxuICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgIHRpdGxlOiB2aWRlb1VybCA/IGBb5rWL6K+VXSAke3RpdGxlfWAgOiBgW+a1i+ivleinhumikV0gJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9YCxcclxuICAgICAgYXV0aG9yOiAn5rWL6K+V5L2c6ICFJyxcclxuICAgICAgZGVzY3JpcHRpb246ICfov5nmmK/kuIDkuKrmtYvor5Xop4bpopHnmoTmj4/ov7DmlofmnKwnLFxyXG4gICAgICBtZWRpYVR5cGU6IE1lZGlhVHlwZS5WSURFTyxcclxuICAgICAgdXJsOiBmaWxlVXJsLFxyXG4gICAgICBkdXJhdGlvbjogZHVyYXRpb24sXHJcbiAgICAgIGZpbGVTaXplOiAxMDI0ICogMTAyNCAqIDEwLCAvLyAxME1CXHJcbiAgICAgIGZvcm1hdDogJ21wNCcsXHJcbiAgICAgIHRodW1ibmFpbDogJ2h0dHBzOi8vc291cmNlLnVuc3BsYXNoLmNvbS9yYW5kb20vMTI4MHg3MjAvP3ZpZGVvJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc29sZS5sb2coJ1tBUEldIOi/lOWbnua1i+ivleino+aekOe7k+aenDonLCBtb2NrUmVzdWx0KVxyXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihtb2NrUmVzdWx0KVxyXG59XHJcblxyXG4vLyB7eyBBVVJBOiBBZGQgLSDmmbrog73lqpLkvZPnsbvlnovmo4DmtYvlh73mlbAgfX1cclxuZnVuY3Rpb24gZGV0ZWN0TWVkaWFUeXBlQW5kRXh0cmFjdERhdGEoZGF0YVNvdXJjZTogYW55KToge1xyXG4gIG1lZGlhVHlwZTogTWVkaWFUeXBlLFxyXG4gIHZpZGVvVXJsPzogc3RyaW5nLFxyXG4gIGltYWdlcz86IEltYWdlSW5mb1tdXHJcbn0ge1xyXG4gIC8vIOajgOafpeaYr+WQpuWMheWQq+WbvueJh+aVsOe7hOWtl+autVxyXG4gIGNvbnN0IGltYWdlQXJyYXlGaWVsZHMgPSBbJ2ltYWdlcycsICdwaWNzJywgJ3BpY3R1cmVzJywgJ3Bob3RvcycsICdpbWFnZV9saXN0JywgJ3BpY19saXN0J11cclxuICBcclxuICBmb3IgKGNvbnN0IGZpZWxkIG9mIGltYWdlQXJyYXlGaWVsZHMpIHtcclxuICAgIGlmIChkYXRhU291cmNlW2ZpZWxkXSAmJiBBcnJheS5pc0FycmF5KGRhdGFTb3VyY2VbZmllbGRdKSAmJiBkYXRhU291cmNlW2ZpZWxkXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGBbQVBJXSDmo4DmtYvliLDlm77pm4blrZfmrrU6ICR7ZmllbGR977yM5YyF5ZCrICR7ZGF0YVNvdXJjZVtmaWVsZF0ubGVuZ3RofSDkuKrpobnnm65gKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgaW1hZ2VzID0gZGF0YVNvdXJjZVtmaWVsZF0ubWFwKChpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpID0+IHtcclxuICAgICAgICBsZXQgaW1hZ2VVcmwgPSAnJ1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0eXBlb2YgaXRlbSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgIGltYWdlVXJsID0gaXRlbVxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnICYmIGl0ZW0pIHtcclxuICAgICAgICAgIC8vIOWwneivleS7juWvueixoeS4reaPkOWPluWbvueJh1VSTFxyXG4gICAgICAgICAgY29uc3QgdXJsRmllbGRzID0gWyd1cmwnLCAnc3JjJywgJ2ltYWdlX3VybCcsICdwaWNfdXJsJywgJ3Bob3RvX3VybCcsICdsaW5rJywgJ2hyZWYnXVxyXG4gICAgICAgICAgZm9yIChjb25zdCB1cmxGaWVsZCBvZiB1cmxGaWVsZHMpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW1bdXJsRmllbGRdICYmIHR5cGVvZiBpdGVtW3VybEZpZWxkXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICBpbWFnZVVybCA9IGl0ZW1bdXJsRmllbGRdXHJcbiAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoaW1hZ2VVcmwgJiYgaW1hZ2VVcmwuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB1cmw6IGltYWdlVXJsLFxyXG4gICAgICAgICAgICBmaWxlbmFtZTogYGltYWdlXyR7KGluZGV4ICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgzLCAnMCcpfS5qcGdgXHJcbiAgICAgICAgICB9IGFzIEltYWdlSW5mb1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICB9KS5maWx0ZXIoKGl0ZW0pOiBpdGVtIGlzIEltYWdlSW5mbyA9PiBpdGVtICE9PSBudWxsKVxyXG4gICAgICBcclxuICAgICAgaWYgKGltYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIG1lZGlhVHlwZTogTWVkaWFUeXBlLklNQUdFX0FMQlVNLFxyXG4gICAgICAgICAgaW1hZ2VzOiBpbWFnZXNcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8g5qOA5p+l6KeG6aKRVVJM5a2X5q61XHJcbiAgY29uc3QgdmlkZW9VcmxGaWVsZHMgPSBbJ3VybCcsICd2aWRlb191cmwnLCAndmlkZW9VcmwnLCAncGxheV91cmwnLCAncGxheUFkZHInLCAnZG93bmxvYWRfdXJsJywgJ2Rvd25sb2FkVXJsJ11cclxuICBcclxuICBmb3IgKGNvbnN0IGZpZWxkIG9mIHZpZGVvVXJsRmllbGRzKSB7XHJcbiAgICBpZiAoZGF0YVNvdXJjZVtmaWVsZF0gJiYgdHlwZW9mIGRhdGFTb3VyY2VbZmllbGRdID09PSAnc3RyaW5nJyAmJiBkYXRhU291cmNlW2ZpZWxkXS5zdGFydHNXaXRoKCdodHRwJykpIHtcclxuICAgICAgY29uc29sZS5sb2coYFtBUEldIOajgOa1i+WIsOinhumikVVSTOWtl+autTogJHtmaWVsZH1gKVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIG1lZGlhVHlwZTogTWVkaWFUeXBlLlZJREVPLFxyXG4gICAgICAgIHZpZGVvVXJsOiBkYXRhU291cmNlW2ZpZWxkXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vIOa3seW6puaQnOe0ouW1jOWll+WvueixoVxyXG4gIGZvciAoY29uc3Qga2V5IGluIGRhdGFTb3VyY2UpIHtcclxuICAgIGlmICh0eXBlb2YgZGF0YVNvdXJjZVtrZXldID09PSAnb2JqZWN0JyAmJiBkYXRhU291cmNlW2tleV0pIHtcclxuICAgICAgY29uc3QgbmVzdGVkUmVzdWx0ID0gZGV0ZWN0TWVkaWFUeXBlQW5kRXh0cmFjdERhdGEoZGF0YVNvdXJjZVtrZXldKVxyXG4gICAgICBpZiAobmVzdGVkUmVzdWx0Lm1lZGlhVHlwZSA9PT0gTWVkaWFUeXBlLklNQUdFX0FMQlVNICYmIG5lc3RlZFJlc3VsdC5pbWFnZXM/Lmxlbmd0aCB8fFxyXG4gICAgICAgICAgbmVzdGVkUmVzdWx0Lm1lZGlhVHlwZSA9PT0gTWVkaWFUeXBlLlZJREVPICYmIG5lc3RlZFJlc3VsdC52aWRlb1VybCkge1xyXG4gICAgICAgIHJldHVybiBuZXN0ZWRSZXN1bHRcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyDpu5jorqTov5Tlm57op4bpopHnsbvlnotcclxuICByZXR1cm4ge1xyXG4gICAgbWVkaWFUeXBlOiBNZWRpYVR5cGUuVklERU9cclxuICB9XHJcbn1cclxuXHJcbi8vIHt7IEFVUkE6IEFkZCAtIOaPkOWPluS9nOiAheS/oeaBr+eahOWHveaVsCB9fVxyXG5mdW5jdGlvbiBleHRyYWN0QXV0aG9yKGRhdGFTb3VyY2U6IGFueSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XHJcbiAgY29uc3QgYXV0aG9yRmllbGRzID0gWydhdXRob3InLCAnY3JlYXRvcicsICd1c2VyJywgJ3VzZXJuYW1lJywgJ25pY2tuYW1lJywgJ25hbWUnLCAnYXV0aG9yX25hbWUnLCAndXNlcl9uYW1lJ11cclxuICBcclxuICBmb3IgKGNvbnN0IGZpZWxkIG9mIGF1dGhvckZpZWxkcykge1xyXG4gICAgaWYgKGRhdGFTb3VyY2VbZmllbGRdKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgZGF0YVNvdXJjZVtmaWVsZF0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgcmV0dXJuIGRhdGFTb3VyY2VbZmllbGRdXHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGFTb3VyY2VbZmllbGRdID09PSAnb2JqZWN0JyAmJiBkYXRhU291cmNlW2ZpZWxkXSkge1xyXG4gICAgICAgIC8vIOS7juS9nOiAheWvueixoeS4reaPkOWPluWQjeensFxyXG4gICAgICAgIGNvbnN0IG5hbWVGaWVsZHMgPSBbJ25hbWUnLCAnbmlja25hbWUnLCAndXNlcm5hbWUnLCAndGl0bGUnXVxyXG4gICAgICAgIGZvciAoY29uc3QgbmFtZUZpZWxkIG9mIG5hbWVGaWVsZHMpIHtcclxuICAgICAgICAgIGlmIChkYXRhU291cmNlW2ZpZWxkXVtuYW1lRmllbGRdICYmIHR5cGVvZiBkYXRhU291cmNlW2ZpZWxkXVtuYW1lRmllbGRdID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICByZXR1cm4gZGF0YVNvdXJjZVtmaWVsZF1bbmFtZUZpZWxkXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gdW5kZWZpbmVkXHJcbn1cclxuXHJcbi8vIHt7IEFVUkE6IEFkZCAtIOaPkOWPluaPj+i/sOS/oeaBr+eahOWHveaVsCB9fVxyXG5mdW5jdGlvbiBleHRyYWN0RGVzY3JpcHRpb24oZGF0YVNvdXJjZTogYW55LCBmYWxsYmFja1RpdGxlPzogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcclxuICBjb25zdCBkZXNjRmllbGRzID0gWydkZXNjcmlwdGlvbicsICdkZXNjJywgJ2NvbnRlbnQnLCAndGV4dCcsICdjYXB0aW9uJywgJ3N1bW1hcnknLCAnZGV0YWlsJ11cclxuICBcclxuICBmb3IgKGNvbnN0IGZpZWxkIG9mIGRlc2NGaWVsZHMpIHtcclxuICAgIGlmIChkYXRhU291cmNlW2ZpZWxkXSAmJiB0eXBlb2YgZGF0YVNvdXJjZVtmaWVsZF0gPT09ICdzdHJpbmcnICYmIGRhdGFTb3VyY2VbZmllbGRdLnRyaW0oKSkge1xyXG4gICAgICByZXR1cm4gZGF0YVNvdXJjZVtmaWVsZF0udHJpbSgpXHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vIOWmguaenOayoeacieaJvuWIsOaPj+i/sO+8jOS9v+eUqOagh+mimOS9nOS4uuWkh+eUqFxyXG4gIHJldHVybiBmYWxsYmFja1RpdGxlXHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIk1lZGlhVHlwZSIsIlBPU1QiLCJyZXF1ZXN0IiwidmlkZW9VcmwiLCJwYXJzZXJDb25maWciLCJqc29uIiwic3VjY2VzcyIsImVycm9yIiwic3RhdHVzIiwiY29uc29sZSIsImxvZyIsIm5hbWUiLCJmaW5hbEFwaVVybCIsImFwaVVybCIsIm1ldGhvZCIsImhlYWRlcnMiLCJpc0dldFJlcXVlc3QiLCJyZXF1ZXN0TWV0aG9kIiwidXNlR2V0TWV0aG9kIiwiaW5jbHVkZXMiLCJ0b0xvd2VyQ2FzZSIsInVybFBhcmFtTmFtZSIsImVuZHNXaXRoIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiYXBpS2V5IiwicmVxdWVzdE9wdGlvbnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInVybCIsInN1YnN0cmluZyIsImxlbmd0aCIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJyZXNwb25zZSIsImZldGNoIiwic2lnbmFsIiwiY2xlYXJUaW1lb3V0Iiwib2siLCJzdGF0dXNUZXh0IiwiZmV0Y2hFcnJvciIsIkVycm9yIiwibWVzc2FnZSIsIlN0cmluZyIsImRhdGEiLCJqc29uRXJyb3IiLCJ0ZXh0UmVzcG9uc2UiLCJ0ZXh0IiwianNvblN0YXJ0IiwiaW5kZXhPZiIsImpzb25FbmQiLCJsYXN0SW5kZXhPZiIsImpzb25QYXJ0IiwicGFyc2UiLCJlIiwidGV4dEVycm9yIiwicGFyc2VkSW5mbyIsImNvZGUiLCJqeERhdGEiLCJBcnJheSIsImlzQXJyYXkiLCJpbWFnZXMiLCJtYXAiLCJpbmRleCIsImZpbGVuYW1lIiwidG9TdHJpbmciLCJwYWRTdGFydCIsInRpdGxlIiwiZGVzYyIsImF1dGhvciIsImV4dHJhY3RBdXRob3IiLCJkZXNjcmlwdGlvbiIsImV4dHJhY3REZXNjcmlwdGlvbiIsIm1lZGlhVHlwZSIsIklNQUdFX0FMQlVNIiwiaW1hZ2VDb3VudCIsInRodW1ibmFpbCIsImNvdmVyIiwidW5kZWZpbmVkIiwiVklERU8iLCJ2aWRlb191cmwiLCJwbGF5QWRkciIsImR1cmF0aW9uIiwiZmlsZVNpemUiLCJzaXplIiwiZm9ybWF0IiwibXNnIiwiZGF0YVNvdXJjZSIsInJlc3VsdCIsIk9iamVjdCIsImtleXMiLCJkZXRlY3RlZE1lZGlhVHlwZSIsIm1lZGlhRGV0ZWN0aW9uUmVzdWx0IiwiZGV0ZWN0TWVkaWFUeXBlQW5kRXh0cmFjdERhdGEiLCJwb3NzaWJsZVVybEZpZWxkcyIsImZpZWxkIiwic3RhcnRzV2l0aCIsImtleSIsIndhcm4iLCJiYWNrdXBVcmxzIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwidmlkZW9fdGl0bGUiLCJ2aWRlb19kdXJhdGlvbiIsImZpbGVfc2l6ZSIsImZpbGVfZm9ybWF0IiwidHlwZSIsInBvc3RlciIsImltYWdlIiwiZXJyb3JNc2ciLCJHRVQiLCJzZWFyY2hQYXJhbXMiLCJuZXh0VXJsIiwiZ2V0IiwidGVzdE1vZGUiLCJ0ZXN0VmlkZW9VcmxzIiwiZmlsZVVybCIsIlVSTCIsInBhdGhQYXJ0cyIsInBhdGhuYW1lIiwic3BsaXQiLCJmaWx0ZXIiLCJCb29sZWFuIiwibGFzdFBhcnQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZXBsYWNlIiwibW9ja1Jlc3VsdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImltYWdlQXJyYXlGaWVsZHMiLCJpdGVtIiwiaW1hZ2VVcmwiLCJ1cmxGaWVsZHMiLCJ1cmxGaWVsZCIsInZpZGVvVXJsRmllbGRzIiwibmVzdGVkUmVzdWx0IiwiYXV0aG9yRmllbGRzIiwibmFtZUZpZWxkcyIsIm5hbWVGaWVsZCIsImZhbGxiYWNrVGl0bGUiLCJkZXNjRmllbGRzIiwidHJpbSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/proxy/parser/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/types/index.ts":
/*!****************************!*\
  !*** ./src/types/index.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MediaType: () => (/* binding */ MediaType),\n/* harmony export */   TaskStatus: () => (/* binding */ TaskStatus)\n/* harmony export */ });\n// 视频解析API配置类型\n// 任务状态枚举\nvar TaskStatus = /*#__PURE__*/ function(TaskStatus) {\n    TaskStatus[\"PENDING\"] = \"pending\";\n    TaskStatus[\"PARSING\"] = \"parsing\";\n    TaskStatus[\"UPLOADING\"] = \"uploading\";\n    TaskStatus[\"SUCCESS\"] = \"success\";\n    TaskStatus[\"FAILED\"] = \"failed\";\n    return TaskStatus;\n}({});\n// 媒体内容类型枚举\nvar MediaType = /*#__PURE__*/ function(MediaType) {\n    MediaType[\"VIDEO\"] = \"video\";\n    MediaType[\"IMAGE_ALBUM\"] = \"image_album\";\n    return MediaType;\n}({});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvdHlwZXMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxjQUFjO0FBdUJkLFNBQVM7QUFDRix3Q0FBS0E7Ozs7OztXQUFBQTtNQU1YO0FBOEJELFdBQVc7QUFDSix1Q0FBS0M7OztXQUFBQTtNQUdYIiwic291cmNlcyI6WyJEOlxcR2l0SHViXFxkeWp4bmV4dFxcZHlqeFxcc3JjXFx0eXBlc1xcaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8g6KeG6aKR6Kej5p6QQVBJ6YWN572u57G75Z6LXHJcbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9QYXJzZXJDb25maWcge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIGFwaVVybDogc3RyaW5nO1xyXG4gIGFwaUtleT86IHN0cmluZztcclxuICBpc0RlZmF1bHQ/OiBib29sZWFuO1xyXG4gIHVzZUdldE1ldGhvZD86IGJvb2xlYW47IC8vIOaYr+WQpuS9v+eUqEdFVOivt+axguaWueW8j1xyXG4gIHJlcXVlc3RNZXRob2Q/OiAnR0VUJyB8ICdQT1NUJzsgLy8g5piO56Gu6K+35rGC5pa55rOVXHJcbiAgdXJsUGFyYW1OYW1lPzogc3RyaW5nOyAvLyBVUkzlj4LmlbDlkI3np7DvvIzpu5jorqTkuLondXJsJ1xyXG59XHJcblxyXG4vLyBXZWJEQVbmnI3liqHlmajphY3nva7nsbvlnotcclxuZXhwb3J0IGludGVyZmFjZSBXZWJEQVZDb25maWcge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgbmFtZTogc3RyaW5nO1xyXG4gIHVybDogc3RyaW5nO1xyXG4gIHVzZXJuYW1lOiBzdHJpbmc7XHJcbiAgcGFzc3dvcmQ6IHN0cmluZztcclxuICBiYXNlUGF0aD86IHN0cmluZztcclxuICBpc0RlZmF1bHQ/OiBib29sZWFuO1xyXG59XHJcblxyXG4vLyDku7vliqHnirbmgIHmnprkuL5cclxuZXhwb3J0IGVudW0gVGFza1N0YXR1cyB7XHJcbiAgUEVORElORyA9ICdwZW5kaW5nJyxcclxuICBQQVJTSU5HID0gJ3BhcnNpbmcnLFxyXG4gIFVQTE9BRElORyA9ICd1cGxvYWRpbmcnLFxyXG4gIFNVQ0NFU1MgPSAnc3VjY2VzcycsXHJcbiAgRkFJTEVEID0gJ2ZhaWxlZCdcclxufVxyXG5cclxuLy8g5Y2V5Liq6L2s5a2Y5Lu75Yqh57G75Z6LXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ29udmVyc2lvblRhc2sge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdmlkZW9Vcmw6IHN0cmluZztcclxuICB2aWRlb1RpdGxlPzogc3RyaW5nO1xyXG4gIHN0YXR1czogVGFza1N0YXR1cztcclxuICBwcm9ncmVzcz86IG51bWJlcjtcclxuICBlcnJvcj86IHN0cmluZztcclxuICBjcmVhdGVkQXQ6IERhdGU7XHJcbiAgY29tcGxldGVkQXQ/OiBEYXRlO1xyXG4gIHBhcnNlZFZpZGVvSW5mbz86IFBhcnNlZFZpZGVvSW5mbztcclxuICB1cGxvYWRSZXN1bHQ/OiBVcGxvYWRSZXN1bHQ7XHJcbn1cclxuXHJcbi8vIOaJuemHj+S7u+WKoeexu+Wei1xyXG5leHBvcnQgaW50ZXJmYWNlIEJhdGNoVGFzayB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgc3RhdHVzOiBUYXNrU3RhdHVzO1xyXG4gIHRvdGFsVGFza3M6IG51bWJlcjtcclxuICBjb21wbGV0ZWRUYXNrczogbnVtYmVyO1xyXG4gIHRhc2tzOiBDb252ZXJzaW9uVGFza1tdO1xyXG4gIHBhcnNlckNvbmZpZzogVmlkZW9QYXJzZXJDb25maWc7XHJcbiAgd2ViZGF2Q29uZmlnOiBXZWJEQVZDb25maWc7XHJcbiAgY3JlYXRlZEF0OiBEYXRlO1xyXG4gIGNvbXBsZXRlZEF0PzogRGF0ZTtcclxufVxyXG5cclxuLy8g5aqS5L2T5YaF5a6557G75Z6L5p6a5Li+XHJcbmV4cG9ydCBlbnVtIE1lZGlhVHlwZSB7XHJcbiAgVklERU8gPSAndmlkZW8nLFxyXG4gIElNQUdFX0FMQlVNID0gJ2ltYWdlX2FsYnVtJ1xyXG59XHJcblxyXG4vLyDlm77niYfkv6Hmga/nsbvlnotcclxuZXhwb3J0IGludGVyZmFjZSBJbWFnZUluZm8ge1xyXG4gIHVybDogc3RyaW5nO1xyXG4gIGZpbGVuYW1lPzogc3RyaW5nO1xyXG4gIGZpbGVTaXplPzogbnVtYmVyO1xyXG59XHJcblxyXG4vLyDop6PmnpDnmoTlqpLkvZPkv6Hmga/nsbvlnovvvIjmlK/mjIHop4bpopHlkozlm77pm4bvvIlcclxuZXhwb3J0IGludGVyZmFjZSBQYXJzZWRWaWRlb0luZm8ge1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgYXV0aG9yPzogc3RyaW5nOyAvLyDkvZzogIXkv6Hmga9cclxuICBkZXNjcmlwdGlvbj86IHN0cmluZzsgLy8g5o+P6L+w5paH5pysXHJcbiAgbWVkaWFUeXBlOiBNZWRpYVR5cGU7IC8vIOWqkuS9k+exu+Wei++8muinhumikeaIluWbvumbhlxyXG4gIFxyXG4gIC8vIOinhumikeebuOWFs+Wtl+autVxyXG4gIHVybD86IHN0cmluZzsgLy8g6KeG6aKRVVJM77yI6KeG6aKR57G75Z6L5pe25L2/55So77yJXHJcbiAgZHVyYXRpb24/OiBudW1iZXI7XHJcbiAgZmlsZVNpemU/OiBudW1iZXI7XHJcbiAgZm9ybWF0Pzogc3RyaW5nO1xyXG4gIHRodW1ibmFpbD86IHN0cmluZztcclxuICBcclxuICAvLyDlm77pm4bnm7jlhbPlrZfmrrVcclxuICBpbWFnZXM/OiBJbWFnZUluZm9bXTsgLy8g5Zu+54mH5YiX6KGo77yI5Zu+6ZuG57G75Z6L5pe25L2/55So77yJXHJcbiAgaW1hZ2VDb3VudD86IG51bWJlcjsgLy8g5Zu+54mH5pWw6YePXHJcbn1cclxuXHJcbi8vIOS4iuS8oOe7k+aenOexu+Wei1xyXG5leHBvcnQgaW50ZXJmYWNlIFVwbG9hZFJlc3VsdCB7XHJcbiAgc3VjY2VzczogYm9vbGVhbjtcclxuICBmaWxlUGF0aD86IHN0cmluZztcclxuICBlcnJvcj86IHN0cmluZztcclxufVxyXG5cclxuLy8g5riF55CG6YWN572u5o6l5Y+jXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xlYW51cENvbmZpZyB7XHJcbiAgLy8g5piv5ZCm5ZCv55So6Ieq5Yqo5riF55CGXHJcbiAgZW5hYmxlZDogYm9vbGVhbjtcclxuICAvLyDkv53nlZnmnIDov5Hlh6DlpKnnmoTmlofku7bvvIgw6KGo56S65LiN5L+d55WZ77yM5YWo6YOo5riF55CG77yJXHJcbiAgcmV0YWluRGF5czogbnVtYmVyO1xyXG4gIC8vIOaYr+WQpuS/neeVmeaIkOWKn+S7u+WKoeeahOaWh+S7tlxyXG4gIHJldGFpblN1Y2Nlc3NmdWxUYXNrczogYm9vbGVhbjtcclxuICAvLyDmmK/lkKbkv53nlZnlpLHotKXku7vliqHnmoTmlofku7ZcclxuICByZXRhaW5GYWlsZWRUYXNrczogYm9vbGVhbjtcclxuICAvLyDoh6rlrprkuYnkv53nlZnnmoTmlofku7bmianlsZXlkI1cclxuICByZXRhaW5FeHRlbnNpb25zOiBzdHJpbmdbXTtcclxuICAvLyDmuIXnkIbml7bpl7TvvIhjcm9u6KGo6L6+5byP5qC85byP77yM5aaCIFwiMCAyICogKiAqXCIg6KGo56S65q+P5aSp5YeM5pmoMueCue+8iVxyXG4gIGNsZWFudXBTY2hlZHVsZTogc3RyaW5nO1xyXG59XHJcblxyXG4vLyDmuIXnkIbml6Xlv5fmnaHnm67mjqXlj6NcclxuZXhwb3J0IGludGVyZmFjZSBDbGVhbnVwTG9nRW50cnkge1xyXG4gIGlkOiBzdHJpbmc7XHJcbiAgdGltZXN0YW1wOiBEYXRlO1xyXG4gIGZpbGVzRGVsZXRlZDogbnVtYmVyO1xyXG4gIHNwYWNlRnJlZWQ6IG51bWJlcjsgLy8g5Lul5a2X6IqC5Li65Y2V5L2NXHJcbiAgZGV0YWlsczogc3RyaW5nO1xyXG59XHJcblxyXG4vLyDljoblj7LorrDlvZXnsbvlnotcclxuZXhwb3J0IGludGVyZmFjZSBIaXN0b3J5UmVjb3JkIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHR5cGU6ICdzaW5nbGUnIHwgJ2JhdGNoJztcclxuICB0YXNrOiBDb252ZXJzaW9uVGFzayB8IEJhdGNoVGFzaztcclxuICBjcmVhdGVkQXQ6IERhdGU7XHJcbn1cclxuXHJcbi8vIOW6lOeUqOmFjee9ruexu+Wei1xyXG5leHBvcnQgaW50ZXJmYWNlIEFwcENvbmZpZyB7XHJcbiAgcGFyc2VyczogVmlkZW9QYXJzZXJDb25maWdbXTtcclxuICB3ZWJkYXZTZXJ2ZXJzOiBXZWJEQVZDb25maWdbXTtcclxuICB0aGVtZTogJ2xpZ2h0JyB8ICdkYXJrJyB8ICdzeXN0ZW0nO1xyXG59XHJcblxyXG4vLyBBUEnlk43lupTnsbvlnotcclxuZXhwb3J0IGludGVyZmFjZSBBcGlSZXNwb25zZTxUID0gYW55PiB7XHJcbiAgc3VjY2VzczogYm9vbGVhbjtcclxuICBkYXRhPzogVDtcclxuICBlcnJvcj86IHN0cmluZztcclxuICBtZXNzYWdlPzogc3RyaW5nO1xyXG59XHJcblxyXG4vLyDop4bpopHop6PmnpBBUEnlk43lupTnsbvlnotcclxuZXhwb3J0IGludGVyZmFjZSBWaWRlb1BhcnNlUmVzcG9uc2Uge1xyXG4gIHN1Y2Nlc3M6IGJvb2xlYW47XHJcbiAgZGF0YTogUGFyc2VkVmlkZW9JbmZvO1xyXG4gIGVycm9yPzogc3RyaW5nO1xyXG59XHJcblxyXG4vLyBXZWJEQVbkuIrkvKDlk43lupTnsbvlnotcclxuZXhwb3J0IGludGVyZmFjZSBXZWJEQVZVcGxvYWRSZXNwb25zZSB7XHJcbiAgc3VjY2VzczogYm9vbGVhbjtcclxuICBmaWxlUGF0aD86IHN0cmluZztcclxuICBlcnJvcj86IHN0cmluZztcclxufVxyXG4iXSwibmFtZXMiOlsiVGFza1N0YXR1cyIsIk1lZGlhVHlwZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/types/index.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fproxy%2Fparser%2Froute&page=%2Fapi%2Fproxy%2Fparser%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproxy%2Fparser%2Froute.ts&appDir=D%3A%5CGitHub%5Cdyjxnext%5Cdyjx%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CGitHub%5Cdyjxnext%5Cdyjx&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();